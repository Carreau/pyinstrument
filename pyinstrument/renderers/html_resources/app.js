var pyinstrumentHTMLRenderer=function(){"use strict";var Vn=Object.defineProperty;var Hn=(F,ue,Ie)=>ue in F?Vn(F,ue,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):F[ue]=Ie;var C=(F,ue,Ie)=>Hn(F,typeof ue!="symbol"?ue+"":ue,Ie);function F(){}function ue(t){return t()}function Ie(){return Object.create(null)}function de(t){t.forEach(ue)}function ft(t){return typeof t=="function"}function re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function di(t){return Object.keys(t).length===0}function It(t,...e){if(t==null){for(const n of e)n(void 0);return F}const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function _e(t,e,i){t.$$.on_destroy.push(It(e,i))}function fi(t,e,i){return t.set(i),e}function a(t,e){t.appendChild(e)}function N(t,e,i){t.insertBefore(e,i||null)}function L(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function B(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function w(){return T(" ")}function hi(){return T("")}function z(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function ht(t){return function(e){return e.preventDefault(),t.call(this,e)}}function pt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function s(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function mt(t){let e;return{p(...i){e=i,e.forEach(n=>t.push(n))},r(){e.forEach(i=>t.splice(t.indexOf(i),1))}}}function pi(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function j(t,e,i,n){i==null?t.style.removeProperty(e):t.style.setProperty(e,i,"")}function Te(t,e,i){t.classList.toggle(e,!!i)}function mi(t,e,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:i,cancelable:n})}let je;function Qe(t){je=t}function vt(){if(!je)throw new Error("Function called outside component initialization");return je}function Rt(t){vt().$$.on_mount.push(t)}function vi(t){vt().$$.on_destroy.push(t)}function gi(){const t=vt();return(e,i,{cancelable:n=!1}={})=>{const r=t.$$.callbacks[e];if(r){const l=mi(e,i,{cancelable:n});return r.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}const $e=[],et=[];let Ve=[];const St=[],_i=Promise.resolve();let gt=!1;function bi(){gt||(gt=!0,_i.then($t))}function _t(t){Ve.push(t)}const bt=new Set;let He=0;function $t(){if(He!==0)return;const t=je;do{try{for(;He<$e.length;){const e=$e[He];He++,Qe(e),wi(e.$$)}}catch(e){throw $e.length=0,He=0,e}for(Qe(null),$e.length=0,He=0;et.length;)et.pop()();for(let e=0;e<Ve.length;e+=1){const i=Ve[e];bt.has(i)||(bt.add(i),i())}Ve.length=0}while($e.length);for(;St.length;)St.pop()();gt=!1,bt.clear(),Qe(t)}function wi(t){if(t.fragment!==null){t.update(),de(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_t)}}function yi(t){const e=[],i=[];Ve.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),Ve=e}const tt=new Set;let Re;function Oe(){Re={r:0,c:[],p:Re}}function De(){Re.r||de(Re.c),Re=Re.p}function $(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function O(t,e,i,n){if(t&&t.o){if(tt.has(t))return;tt.add(t),Re.c.push(()=>{tt.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function Vt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ai(t,e){O(t,1,1,()=>{e.delete(t.key)})}function Ci(t,e,i,n,r,l,o,c,u,d,f,v){let p=t.length,m=l.length,_=p;const b={};for(;_--;)b[t[_].key]=_;const A=[],I=new Map,R=new Map,P=[];for(_=m;_--;){const g=v(r,l,_),E=i(g);let y=o.get(E);y?P.push(()=>y.p(g,e)):(y=d(E,g),y.c()),I.set(E,A[_]=y),E in b&&R.set(E,Math.abs(_-b[E]))}const V=new Set,U=new Set;function k(g){$(g,1),g.m(c,f),o.set(g.key,g),f=g.first,m--}for(;p&&m;){const g=A[m-1],E=t[p-1],y=g.key,M=E.key;g===E?(f=g.first,p--,m--):I.has(M)?!o.has(y)||V.has(y)?k(g):U.has(M)?p--:R.get(y)>R.get(M)?(U.add(y),k(g)):(V.add(M),p--):(u(E,o),p--)}for(;p--;){const g=t[p];I.has(g.key)||u(g,o)}for(;m;)k(A[m-1]);return de(P),A}function fe(t){t&&t.c()}function le(t,e,i){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,i),_t(()=>{const l=t.$$.on_mount.map(ue).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...l):de(l),t.$$.on_mount=[]}),r.forEach(_t)}function oe(t,e){const i=t.$$;i.fragment!==null&&(yi(i.after_update),de(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function ki(t,e){t.$$.dirty[0]===-1&&($e.push(t),bi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,i,n,r,l,o=null,c=[-1]){const u=je;Qe(t);const d=t.$$={fragment:null,ctx:[],props:l,update:F,not_equal:r,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ie(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(d.root);let f=!1;if(d.ctx=i?i(t,e.props||{},(v,p,...m)=>{const _=m.length?m[0]:p;return d.ctx&&r(d.ctx[v],d.ctx[v]=_)&&(!d.skip_bound&&d.bound[v]&&d.bound[v](_),f&&ki(t,v)),p}):[],d.update(),f=!0,de(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const v=pi(e.target);d.fragment&&d.fragment.l(v),v.forEach(L)}else d.fragment&&d.fragment.c();e.intro&&$(t.$$.fragment),le(t,e.target,e.anchor),$t()}Qe(u)}class pe{constructor(){C(this,"$$");C(this,"$$set")}$destroy(){oe(this,1),this.$destroy=F}$on(e,i){if(!ft(i))return F;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!di(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fi);function Ei(t){let e,i;return{c(){e=B("svg"),i=B("path"),s(i,"fill-rule","evenodd"),s(i,"clip-rule","evenodd"),s(i,"d","M5.11634 0.889422C4.86506 -0.296474 3.17237 -0.296474 2.92109 0.889422C2.78291 1.54158 2.10994 1.93011 1.47607 1.72371C0.323418 1.34837 -0.522932 2.81429 0.378448 3.62484C0.87414 4.07059 0.87414 4.84767 0.378448 5.29341C-0.522931 6.10397 0.323418 7.56989 1.47607 7.19455C2.10994 6.98814 2.78291 7.37668 2.92109 8.02883C3.17237 9.21473 4.86506 9.21473 5.11634 8.02883C5.25452 7.37668 5.92749 6.98814 6.56136 7.19455C7.71401 7.56989 8.56036 6.10397 7.65898 5.29341C7.16329 4.84767 7.16329 4.07059 7.65898 3.62484C8.56036 2.81429 7.71401 1.34837 6.56136 1.72371C5.92749 1.93011 5.25452 1.54158 5.11634 0.889422ZM4.01883 6.33408C5.05436 6.33408 5.89383 5.49462 5.89383 4.45908C5.89383 3.42355 5.05436 2.58408 4.01883 2.58408C2.98329 2.58408 2.14383 3.42355 2.14383 4.45908C2.14383 5.49462 2.98329 6.33408 4.01883 6.33408Z"),s(i,"fill","currentColor"),s(e,"width","9"),s(e,"height","9"),s(e,"viewBox","0 0 9 9"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,r){N(n,e,r),a(e,i)},p:F,i:F,o:F,d(n){n&&L(e)}}}class Ti extends pe{constructor(e){super(),he(this,e,null,Ei,re,{})}}function Pi(t){let e,i,n,r,l,o,c,u,d,f,v,p,m,_,b,A,I;return{c(){e=B("svg"),i=B("g"),n=B("path"),r=B("path"),l=B("defs"),o=B("filter"),c=B("feFlood"),u=B("feBlend"),d=B("feGaussianBlur"),f=B("linearGradient"),v=B("stop"),p=B("stop"),m=B("stop"),_=B("linearGradient"),b=B("stop"),A=B("stop"),I=B("stop"),s(n,"fill-rule","evenodd"),s(n,"clip-rule","evenodd"),s(n,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),s(n,"fill","url(#paint0_linear_67_262)"),s(i,"opacity","0.5"),s(i,"filter","url(#filter0_f_67_262)"),s(r,"fill-rule","evenodd"),s(r,"clip-rule","evenodd"),s(r,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),s(r,"fill","url(#paint1_linear_67_262)"),s(c,"flood-opacity","0"),s(c,"result","BackgroundImageFix"),s(u,"mode","normal"),s(u,"in","SourceGraphic"),s(u,"in2","BackgroundImageFix"),s(u,"result","shape"),s(d,"stdDeviation","3.39785"),s(d,"result","effect1_foregroundBlur_67_262"),s(o,"id","filter0_f_67_262"),s(o,"x","3.2043"),s(o,"y","2.2043"),s(o,"width","36.0914"),s(o,"height","41.0914"),s(o,"filterUnits","userSpaceOnUse"),s(o,"color-interpolation-filters","sRGB"),s(v,"stop-color","#FFAA00"),s(p,"offset","0.514478"),s(p,"stop-color","#FFEB00"),s(m,"offset","1"),s(m,"stop-color","#98FF05"),s(f,"id","paint0_linear_67_262"),s(f,"x1","7.3769"),s(f,"y1","18.4566"),s(f,"x2","20.6583"),s(f,"y2","33.1038"),s(f,"gradientUnits","userSpaceOnUse"),s(b,"stop-color","#FFC834"),s(A,"offset","0.514478"),s(A,"stop-color","#FAF534"),s(I,"offset","1"),s(I,"stop-color","#B8FF38"),s(_,"id","paint1_linear_67_262"),s(_,"x1","7.3769"),s(_,"y1","18.4566"),s(_,"x2","20.6583"),s(_,"y2","33.1038"),s(_,"gradientUnits","userSpaceOnUse"),s(e,"width","44"),s(e,"height","44"),s(e,"viewBox","0 0 44 44"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(R,P){N(R,e,P),a(e,i),a(i,n),a(e,r),a(e,l),a(l,o),a(o,c),a(o,u),a(o,d),a(l,f),a(f,v),a(f,p),a(f,m),a(l,_),a(_,b),a(_,A),a(_,I)},p:F,i:F,o:F,d(R){R&&L(e)}}}class Mi extends pe{constructor(e){super(),he(this,e,null,Pi,re,{})}}const Le=[];function Ii(t,e){return{subscribe:it(t,e).subscribe}}function it(t,e=F){let i;const n=new Set;function r(c){if(re(t,c)&&(t=c,i)){const u=!Le.length;for(const d of n)d[1](),Le.push(d,t);if(u){for(let d=0;d<Le.length;d+=2)Le[d][0](Le[d+1]);Le.length=0}}}function l(c){r(c(t))}function o(c,u=F){const d=[c,u];return n.add(d),n.size===1&&(i=e(r,l)||F),c(t),()=>{n.delete(d),n.size===0&&i&&(i(),i=null)}}return{set:r,update:l,subscribe:o}}function Ri(t,e,i){const n=!Array.isArray(t),r=n?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return Ii(i,(o,c)=>{let u=!1;const d=[];let f=0,v=F;const p=()=>{if(f)return;v();const _=e(n?d[0]:d,o,c);l?o(_):v=ft(_)?_:F},m=r.map((_,b)=>It(_,A=>{d[b]=A,f&=~(1<<b),u&&p()},()=>{f|=1<<b}));return u=!0,p(),function(){de(m),v(),u=!1}})}var wt={local:{},session:{}};function Si(t){return t==="local"?localStorage:sessionStorage}function yt(t,e,i){var n,r,l,o,c,u,d,f;i!=null&&i.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const v=(n=i==null?void 0:i.serializer)!=null?n:JSON,p=(r=i==null?void 0:i.storage)!=null?r:"local",m=(l=i==null?void 0:i.syncTabs)!=null?l:!0,_=(c=(o=i==null?void 0:i.onWriteError)!=null?o:i==null?void 0:i.onError)!=null?c:k=>console.error(`Error when writing value from persisted store "${t}" to ${p}`,k),b=(u=i==null?void 0:i.onParseError)!=null?u:(k,g)=>console.error(`Error when parsing ${k?'"'+k+'"':"value"} from persisted store "${t}"`,g),A=(d=i==null?void 0:i.beforeRead)!=null?d:k=>k,I=(f=i==null?void 0:i.beforeWrite)!=null?f:k=>k,R=typeof window<"u"&&typeof document<"u",P=R?Si(p):null;function V(k,g){const E=I(g);try{P==null||P.setItem(k,v.stringify(E))}catch(y){_(y)}}function U(){function k(M){try{return v.parse(M)}catch(G){b(M,G)}}const g=P==null?void 0:P.getItem(t);if(g==null)return e;const E=k(g);return E==null?e:A(E)}if(!wt[p][t]){const k=U(),g=it(k,M=>{if(R&&p=="local"&&m){const G=Y=>{if(Y.key===t&&Y.newValue){let W;try{W=v.parse(Y.newValue)}catch(Se){b(Y.newValue,Se);return}const be=A(W);M(be)}};return window.addEventListener("storage",G),()=>window.removeEventListener("storage",G)}}),{subscribe:E,set:y}=g;wt[p][t]={set(M){y(M),V(t,M)},update(M){return g.update(G=>{const Y=M(G);return V(t,Y),Y})},reset(){this.set(e)},subscribe:E}}return wt[p][t]}function Ht(){return{collapseMode:"non-application",collapseCustomHide:"",collapseCustomShow:"",removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:.001,timeFormat:"absolute"}}const Z=yt("pyinstrument:viewOptionsCallStack",Ht(),{syncTabs:!0,beforeRead(t){return{...Ht(),...t}}}),qe=yt("pyinstrument:viewOptions",{viewMode:"call-stack"},{syncTabs:!1}),nt=yt("pyinstrument:viewOptionsTimeline",{removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:1e-4},{syncTabs:!0});function $i(t){let e,i,n,r,l,o,c,u,d,f,v,p,m,_,b,A,I,R,P,V,U,k,g,E,y,M,G,Y,W,be,Se,X,D,Ye,me,q,Xe,we,ve,K,J,ye,x,Je,ne,Ae,Ce,ke,ae,Fe,Pe,Ne,xe,H,S,ce,st,xt,ei,ze,Me,ti,We,lt,ii,ni,ge,ri,si,Ue,ot,li,Ge,at,ct,ee,oi,ai,ut,dt,te,ci,Tt,Pt,Mt,ui;return Tt=mt(t[5][0]),Pt=mt(t[5][1]),{c(){e=h("div"),i=h("div"),n=h("div"),n.textContent="Collapse frames",r=w(),l=h("div"),o=h("div"),c=h("input"),u=w(),d=h("label"),f=T("Non-application code"),v=w(),p=h("div"),p.textContent=`Application code is anything run from outside the Python home
          directory.`,m=w(),_=h("div"),b=h("input"),A=w(),I=h("label"),R=T("Custom"),P=w(),V=h("div"),U=T(`Regex on the source file path.
          `),k=h("div"),g=h("label"),g.textContent="Show",E=w(),y=h("input"),M=w(),G=h("label"),G.textContent="Hide",Y=w(),W=h("input"),be=T(`
          If neither match, non-application rule is used.`),Se=w(),X=h("div"),D=h("input"),Ye=w(),me=h("label"),q=T("Disabled"),Xe=w(),we=h("div"),ve=h("div"),ve.textContent="Remove frames",K=w(),J=h("div"),ye=h("div"),x=h("input"),Je=w(),ne=h("label"),Ae=T("importlib machinery"),Ce=w(),ke=h("div"),ae=h("input"),Fe=w(),Pe=h("label"),Ne=T("Frames declaring __traceback_hide__"),xe=w(),H=h("div"),S=h("input"),ce=w(),st=h("label"),xt=T("pyinstrument frames"),ei=w(),ze=h("div"),Me=h("input"),ti=w(),We=h("span"),lt=h("label"),ii=T("Frames with durations less than"),ni=w(),ge=h("input"),ri=T(`
          % of the total time`),si=w(),Ue=h("div"),ot=h("div"),ot.textContent="Time format",li=w(),Ge=h("div"),at=h("div"),ct=h("label"),ee=h("input"),oi=T(`
          Absolute time in seconds`),ai=w(),ut=h("div"),dt=h("label"),te=h("input"),ci=T(`
          Percentage of the total run time`),s(n,"class","name svelte-1pecl4m"),s(c,"id",t[1]+"collapseModeAll"),s(c,"type","radio"),c.__value="non-application",se(c,c.__value),s(c,"class","svelte-1pecl4m"),s(d,"for",t[1]+"collapseModeAll"),s(p,"class","description svelte-1pecl4m"),s(o,"class","option svelte-1pecl4m"),s(b,"id",t[1]+"collapseModeCustom"),s(b,"type","radio"),b.__value="custom",se(b,b.__value),s(b,"class","svelte-1pecl4m"),s(I,"for",t[1]+"collapseModeCustom"),s(g,"for","collapseCustomShow"),s(g,"class","svelte-1pecl4m"),s(y,"id","collapseCustomShow"),s(y,"type","text"),s(y,"placeholder","myproject"),s(y,"spellcheck","false"),s(y,"autocapitalize","off"),s(y,"autocomplete","off"),s(y,"autocorrect","off"),s(y,"class","svelte-1pecl4m"),s(G,"for","collapseCustomHide"),s(G,"class","svelte-1pecl4m"),s(W,"id","collapseCustomHide"),s(W,"type","text"),s(W,"placeholder",".*/lib/.*"),s(W,"spellcheck","false"),s(W,"autocapitalize","off"),s(W,"autocomplete","off"),s(W,"autocorrect","off"),s(W,"class","svelte-1pecl4m"),s(k,"class","mini-input-grid svelte-1pecl4m"),s(V,"class","description svelte-1pecl4m"),s(_,"class","option svelte-1pecl4m"),s(D,"id",t[1]+"collapseModeDisabled"),s(D,"type","radio"),D.__value="disabled",se(D,D.__value),s(D,"class","svelte-1pecl4m"),s(me,"for",t[1]+"collapseModeDisabled"),s(X,"class","option svelte-1pecl4m"),s(l,"class","body"),s(i,"class","option-group svelte-1pecl4m"),s(ve,"class","name svelte-1pecl4m"),s(x,"id",t[1]+"removeImportlib"),s(x,"type","checkbox"),s(x,"class","svelte-1pecl4m"),s(ne,"for",t[1]+"removeImportlib"),s(ye,"class","option svelte-1pecl4m"),s(ae,"id",t[1]+"removeTracebackHide"),s(ae,"type","checkbox"),s(ae,"class","svelte-1pecl4m"),s(Pe,"for",t[1]+"removeTracebackHide"),s(ke,"class","option svelte-1pecl4m"),s(S,"id",t[1]+"removePyinstrument"),s(S,"type","checkbox"),s(S,"class","svelte-1pecl4m"),s(st,"for",t[1]+"removePyinstrument"),s(H,"class","option svelte-1pecl4m"),s(Me,"id",t[1]+"removeIrrelevant"),s(Me,"type","checkbox"),s(Me,"class","svelte-1pecl4m"),s(lt,"for",t[1]+"removeIrrelevant"),s(ge,"type","number"),ge.value=t[2](),s(ge,"min","0"),s(ge,"max","99"),s(ge,"step","0.01"),j(ge,"width","4em"),s(ge,"class","svelte-1pecl4m"),s(ze,"class","option svelte-1pecl4m"),s(J,"class","body"),s(we,"class","option-group svelte-1pecl4m"),s(ot,"class","name svelte-1pecl4m"),s(ee,"type","radio"),ee.__value="absolute",se(ee,ee.__value),s(ee,"class","svelte-1pecl4m"),s(at,"class","option svelte-1pecl4m"),s(te,"type","radio"),te.__value="proportion",se(te,te.__value),s(te,"class","svelte-1pecl4m"),s(ut,"class","option svelte-1pecl4m"),s(Ge,"class","body"),s(Ue,"class","option-group svelte-1pecl4m"),s(e,"class","view-options-call-stack svelte-1pecl4m"),Tt.p(ee,te),Pt.p(c,b,D)},m(Q,ie){N(Q,e,ie),a(e,i),a(i,n),a(i,r),a(i,l),a(l,o),a(o,c),c.checked=c.__value===t[0].collapseMode,a(o,u),a(o,d),a(d,f),a(o,v),a(o,p),a(l,m),a(l,_),a(_,b),b.checked=b.__value===t[0].collapseMode,a(_,A),a(_,I),a(I,R),a(_,P),a(_,V),a(V,U),a(V,k),a(k,g),a(k,E),a(k,y),se(y,t[0].collapseCustomShow),a(k,M),a(k,G),a(k,Y),a(k,W),se(W,t[0].collapseCustomHide),a(V,be),a(l,Se),a(l,X),a(X,D),D.checked=D.__value===t[0].collapseMode,a(X,Ye),a(X,me),a(me,q),a(e,Xe),a(e,we),a(we,ve),a(we,K),a(we,J),a(J,ye),a(ye,x),x.checked=t[0].removeImportlib,a(ye,Je),a(ye,ne),a(ne,Ae),a(J,Ce),a(J,ke),a(ke,ae),ae.checked=t[0].removeTracebackHide,a(ke,Fe),a(ke,Pe),a(Pe,Ne),a(J,xe),a(J,H),a(H,S),S.checked=t[0].removePyinstrument,a(H,ce),a(H,st),a(st,xt),a(J,ei),a(J,ze),a(ze,Me),Me.checked=t[0].removeIrrelevant,a(ze,ti),a(ze,We),a(We,lt),a(lt,ii),a(We,ni),a(We,ge),a(We,ri),a(e,si),a(e,Ue),a(Ue,ot),a(Ue,li),a(Ue,Ge),a(Ge,at),a(at,ct),a(ct,ee),ee.checked=ee.__value===t[0].timeFormat,a(ct,oi),a(Ge,ai),a(Ge,ut),a(ut,dt),a(dt,te),te.checked=te.__value===t[0].timeFormat,a(dt,ci),Mt||(ui=[z(c,"change",t[4]),z(b,"change",t[6]),z(y,"input",t[7]),z(W,"input",t[8]),z(D,"change",t[9]),z(x,"change",t[10]),z(ae,"change",t[11]),z(S,"change",t[12]),z(Me,"change",t[13]),z(ge,"input",t[3]),z(ee,"change",t[14]),z(te,"change",t[15])],Mt=!0)},p(Q,[ie]){ie&1&&(c.checked=c.__value===Q[0].collapseMode),ie&1&&(b.checked=b.__value===Q[0].collapseMode),ie&1&&y.value!==Q[0].collapseCustomShow&&se(y,Q[0].collapseCustomShow),ie&1&&W.value!==Q[0].collapseCustomHide&&se(W,Q[0].collapseCustomHide),ie&1&&(D.checked=D.__value===Q[0].collapseMode),ie&1&&(x.checked=Q[0].removeImportlib),ie&1&&(ae.checked=Q[0].removeTracebackHide),ie&1&&(S.checked=Q[0].removePyinstrument),ie&1&&(Me.checked=Q[0].removeIrrelevant),ie&1&&(ee.checked=ee.__value===Q[0].timeFormat),ie&1&&(te.checked=te.__value===Q[0].timeFormat)},i:F,o:F,d(Q){Q&&L(e),Tt.r(),Pt.r(),Mt=!1,de(ui)}}}function Vi(t,e,i){let n;_e(t,Z,P=>i(0,n=P));const r=Math.random().toString(36).substring(4);function l(){return(n.removeIrrelevantThreshold*100).toLocaleString(void 0,{maximumFractionDigits:4})}function o(P){fi(Z,n.removeIrrelevantThreshold=P.currentTarget.valueAsNumber/100,n)}const c=[[],[]];function u(){n.collapseMode=this.__value,Z.set(n)}function d(){n.collapseMode=this.__value,Z.set(n)}function f(){n.collapseCustomShow=this.value,Z.set(n)}function v(){n.collapseCustomHide=this.value,Z.set(n)}function p(){n.collapseMode=this.__value,Z.set(n)}function m(){n.removeImportlib=this.checked,Z.set(n)}function _(){n.removeTracebackHide=this.checked,Z.set(n)}function b(){n.removePyinstrument=this.checked,Z.set(n)}function A(){n.removeIrrelevant=this.checked,Z.set(n)}function I(){n.timeFormat=this.__value,Z.set(n)}function R(){n.timeFormat=this.__value,Z.set(n)}return[n,r,l,o,u,c,d,f,v,p,m,_,b,A,I,R]}class Hi extends pe{constructor(e){super(),he(this,e,Vi,$i,re,{})}}function Oi(t){let e,i,n,r,l,o,c,u,d,f,v,p,m,_,b,A,I,R,P,V,U,k,g,E;return{c(){e=h("div"),i=h("div"),n=h("div"),n.textContent="Remove frames",r=w(),l=h("div"),o=h("div"),c=h("input"),u=w(),d=h("label"),f=T("importlib machinery"),v=w(),p=h("div"),m=h("input"),_=w(),b=h("label"),A=T("Frames declaring __traceback_hide__"),I=w(),R=h("div"),P=h("input"),V=w(),U=h("label"),k=T("pyinstrument frames"),s(n,"class","name"),s(c,"id",t[1]+"removeImportlib"),s(c,"type","checkbox"),s(d,"for",t[1]+"removeImportlib"),s(o,"class","option"),s(m,"id",t[1]+"removeTracebackHide"),s(m,"type","checkbox"),s(b,"for",t[1]+"removeTracebackHide"),s(p,"class","option"),s(P,"id",t[1]+"removePyinstrument"),s(P,"type","checkbox"),s(U,"for",t[1]+"removePyinstrument"),s(R,"class","option"),s(l,"class","body"),s(i,"class","option-group"),s(e,"class","view-options-timeline svelte-vsz8zm")},m(y,M){N(y,e,M),a(e,i),a(i,n),a(i,r),a(i,l),a(l,o),a(o,c),c.checked=t[0].removeImportlib,a(o,u),a(o,d),a(d,f),a(l,v),a(l,p),a(p,m),m.checked=t[0].removeTracebackHide,a(p,_),a(p,b),a(b,A),a(l,I),a(l,R),a(R,P),P.checked=t[0].removePyinstrument,a(R,V),a(R,U),a(U,k),g||(E=[z(c,"change",t[2]),z(m,"change",t[3]),z(P,"change",t[4])],g=!0)},p(y,[M]){M&1&&(c.checked=y[0].removeImportlib),M&1&&(m.checked=y[0].removeTracebackHide),M&1&&(P.checked=y[0].removePyinstrument)},i:F,o:F,d(y){y&&L(e),g=!1,de(E)}}}function Di(t,e,i){let n;_e(t,nt,u=>i(0,n=u));const r=Math.random().toString(36).substring(4);function l(){n.removeImportlib=this.checked,nt.set(n)}function o(){n.removeTracebackHide=this.checked,nt.set(n)}function c(){n.removePyinstrument=this.checked,nt.set(n)}return[n,r,l,o,c]}class Li extends pe{constructor(e){super(),he(this,e,Di,Oi,re,{})}}class Bi extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Ni(t,e){const i=e*(t.length-1),n=Math.floor(i),r=Math.ceil(i),l=t[n],o=t[r],c=i-n;return Wi(c,{to:[l,o]})}function zi(t,e,i){return t===1/0?(console.warn("clamp: value is Infinity, returning `max`",t),i):t===-1/0?(console.warn("clamp: value is -Infinity, returning `min`",t),e):Number.isFinite(t)?t<e?e:t>i?i:t:(console.warn("clamp: value isn't finite, returning `min`",t),e)}function At(t,e){const{from:i=[0,1],to:n=[0,1]}=e,r=e.clamp||!1;let l=(t-i[0])/(i[1]-i[0])*(n[1]-n[0])+n[0];return r&&(l=zi(l,Math.min(n[0],n[1]),Math.max(n[0],n[1]))),l}function Wi(t,e){return`rgb(
      ${At(t,{from:e.from,to:[e.to[0][0],e.to[1][0]],clamp:e.clamp})},
      ${At(t,{from:e.from,to:[e.to[0][1],e.to[1][1]],clamp:e.clamp})},
      ${At(t,{from:e.from,to:[e.to[0][2],e.to[1][2]],clamp:e.clamp})}
    )`}function Ui(t){if(t.substr(0,1)=="#"){var e=(t.length-1)/3,i=[17,1,.062272][e-1];return[Math.round(parseInt(t.substr(1,e),16)*i),Math.round(parseInt(t.substr(1+e,e),16)*i),Math.round(parseInt(t.substr(1+2*e,e),16)*i)]}else return t.split("(")[1].split(")")[0].split(",").map(n=>+n)}function Gi(t,e,i={}){const{ignore:n=[],capture:r=!0}=i,l=window;if(!l)return()=>{};let o=!0,c=!1;const u=m=>n.some(_=>typeof _=="string"?Array.from(document.querySelectorAll(_)).some(b=>b===m.target||m.composedPath().includes(b)):_&&(m.target===_||m.composedPath().includes(_))),d=m=>{if(!(!t||t===m.target||m.composedPath().includes(t))){if(m.detail===0&&(o=!u(m)),!o){o=!0;return}e(m)}},f=m=>{c||(c=!0,setTimeout(()=>{c=!1},0),d(m))},v=m=>{o=!u(m)&&!!(t&&!m.composedPath().includes(t))};return l.addEventListener("click",f,{passive:!0,capture:r}),l.addEventListener("pointerdown",v,{passive:!0}),()=>{l.removeEventListener("click",f,{capture:r}),l.removeEventListener("pointerdown",v)}}function ji(t){let e,i;return e=new Li({}),{c(){fe(e.$$.fragment)},m(n,r){le(e,n,r),i=!0},i(n){i||($(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Qi(t){let e,i;return e=new Hi({}),{c(){fe(e.$$.fragment)},m(n,r){le(e,n,r),i=!0},i(n){i||($(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function qi(t){let e,i,n,r,l,o,c,u;const d=[Qi,ji],f=[];function v(p,m){return p[0].viewMode==="call-stack"?0:p[0].viewMode==="timeline"?1:-1}return~(o=v(t))&&(c=f[o]=d[o](t)),{c(){e=h("div"),i=h("div"),n=h("div"),r=T(t[2]),l=w(),c&&c.c(),s(n,"class","title svelte-f96okc"),s(i,"class","box svelte-f96okc"),s(e,"class","view-options svelte-f96okc")},m(p,m){N(p,e,m),a(e,i),a(i,n),a(n,r),a(i,l),~o&&f[o].m(i,null),t[3](i),u=!0},p(p,[m]){(!u||m&4)&&Ee(r,p[2]);let _=o;o=v(p),o!==_&&(c&&(Oe(),O(f[_],1,1,()=>{f[_]=null}),De()),~o?(c=f[o],c||(c=f[o]=d[o](p),c.c()),$(c,1),c.m(i,null)):c=null)},i(p){u||($(c),u=!0)},o(p){O(c),u=!1},d(p){p&&L(e),~o&&f[o].d(),t[3](null)}}}function Ki(t,e,i){let n;_e(t,qe,d=>i(0,n=d));const r=gi();function l(){r("close")}let o;Rt(()=>{if(o)return Gi(o,l,{ignore:[".js-view-options-button"]})});let c="View options";function u(d){et[d?"unshift":"push"](()=>{o=d,i(1,o)})}return t.$$.update=()=>{t.$$.dirty&1&&(n.viewMode==="call-stack"?i(2,c="Call stack view options"):n.viewMode==="timeline"&&i(2,c="Timeline view options"))},[n,o,c,u]}class Zi extends pe{constructor(e){super(),he(this,e,Ki,qi,re,{})}}function Ot(t){let e,i;return e=new Zi({}),e.$on("close",t[9]),{c(){fe(e.$$.fragment)},m(n,r){le(e,n,r),i=!0},p:F,i(n){i||($(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Yi(t){let e,i,n,r,l,o,c,u,d=t[0].target_description+"",f,v,p,m,_,b,A,I,R,P,V,U,k,g,E=t[0].sampleCount+"",y,M,G,Y,W,be,Se,X,D,Ye,me,q,Xe,we,ve,K,J,ye,x,Je,ne,Ae,Ce,ke,ae,Fe,Pe,Ne,xe;l=new Mi({}),Ce=new Ti({});let H=t[1]&&Ot(t);return Pe=mt(t[7][0]),{c(){e=h("div"),i=h("div"),n=h("div"),r=h("div"),fe(l.$$.fragment),o=w(),c=h("div"),u=h("div"),f=T(d),v=w(),p=h("div"),m=h("div"),_=h("span"),_.textContent="Recorded:",b=w(),A=h("span"),A.textContent=`${t[3]}`,I=w(),R=h("br"),P=w(),V=h("div"),U=h("span"),U.textContent="Samples:",k=w(),g=h("span"),y=T(E),M=w(),G=h("div"),Y=h("span"),Y.textContent="CPU utilization:",W=w(),be=h("span"),be.textContent=`${(t[4]*100).toFixed(0)}%`,Se=w(),X=h("div"),D=h("div"),Ye=T(`View:
            `),me=h("label"),q=h("input"),Xe=T(`
              Call stack`),we=w(),ve=h("label"),K=h("input"),J=T(`
              Timeline`),ye=w(),x=h("div"),Je=w(),ne=h("div"),Ae=h("button"),fe(Ce.$$.fragment),ke=T(`
              View options`),ae=w(),H&&H.c(),s(r,"class","logo svelte-g6343"),s(u,"class","target-description svelte-g6343"),s(_,"class","metric-label svelte-g6343"),s(A,"class","metric-value svelte-g6343"),s(m,"class","metric date svelte-g6343"),s(R,"class","svelte-g6343"),s(U,"class","metric-label svelte-g6343"),s(g,"class","metric-value svelte-g6343"),s(V,"class","metric svelte-g6343"),s(Y,"class","metric-label svelte-g6343"),s(be,"class","metric-value svelte-g6343"),s(G,"class","metric svelte-g6343"),s(p,"class","metrics svelte-g6343"),s(q,"type","radio"),q.__value="call-stack",se(q,q.__value),s(q,"class","svelte-g6343"),s(me,"class","svelte-g6343"),s(K,"type","radio"),K.__value="timeline",se(K,K.__value),s(K,"class","svelte-g6343"),s(ve,"class","svelte-g6343"),s(D,"class","toggle"),s(x,"class","spacer"),j(x,"flex","1"),s(Ae,"class","js-view-options-button svelte-g6343"),s(ne,"class","button-container svelte-g6343"),s(X,"class","view-options svelte-g6343"),s(c,"class","layout svelte-g6343"),s(n,"class","row svelte-g6343"),s(i,"class","margins"),s(e,"class","header svelte-g6343"),Pe.p(q,K)},m(S,ce){N(S,e,ce),a(e,i),a(i,n),a(n,r),le(l,r,null),a(n,o),a(n,c),a(c,u),a(u,f),a(c,v),a(c,p),a(p,m),a(m,_),a(m,b),a(m,A),a(p,I),a(p,R),a(p,P),a(p,V),a(V,U),a(V,k),a(V,g),a(g,y),a(p,M),a(p,G),a(G,Y),a(G,W),a(G,be),a(c,Se),a(c,X),a(X,D),a(D,Ye),a(D,me),a(me,q),q.checked=q.__value===t[2].viewMode,a(me,Xe),a(D,we),a(D,ve),a(ve,K),K.checked=K.__value===t[2].viewMode,a(ve,J),a(X,ye),a(X,x),a(X,Je),a(X,ne),a(ne,Ae),le(Ce,Ae,null),a(Ae,ke),a(ne,ae),H&&H.m(ne,null),Fe=!0,Ne||(xe=[z(q,"change",t[6]),z(K,"change",t[8]),z(Ae,"click",pt(ht(t[5])))],Ne=!0)},p(S,[ce]){(!Fe||ce&1)&&d!==(d=S[0].target_description+"")&&Ee(f,d),(!Fe||ce&1)&&E!==(E=S[0].sampleCount+"")&&Ee(y,E),ce&4&&(q.checked=q.__value===S[2].viewMode),ce&4&&(K.checked=K.__value===S[2].viewMode),S[1]?H?(H.p(S,ce),ce&2&&$(H,1)):(H=Ot(S),H.c(),$(H,1),H.m(ne,null)):H&&(Oe(),O(H,1,1,()=>{H=null}),De())},i(S){Fe||($(l.$$.fragment,S),$(Ce.$$.fragment,S),$(H),Fe=!0)},o(S){O(l.$$.fragment,S),O(Ce.$$.fragment,S),O(H),Fe=!1},d(S){S&&L(e),oe(l),oe(Ce),H&&H.d(),Pe.r(),Ne=!1,de(xe)}}}function Xi(t,e,i){let n;_e(t,qe,m=>i(2,n=m));let{session:r}=e;const l=new Date(r.startTime*1e3).toLocaleString(void 0,{dateStyle:"long",timeStyle:"medium"}),o=r.cpuTime/r.duration;let c=!1;function u(m){i(1,c=!c)}const d=[[]];function f(){n.viewMode=this.__value,qe.set(n)}function v(){n.viewMode=this.__value,qe.set(n)}const p=()=>i(1,c=!1);return t.$$set=m=>{"session"in m&&i(0,r=m.session)},[r,c,n,l,o,u,f,d,v,p]}class Ji extends pe{constructor(e){super(),he(this,e,Xi,Yi,re,{session:0})}}const xi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWmSURBVHgBtVc7i11VFF5rn3PvPKoLFlqmDGPhaGVpJQoWAZEEGxERFBsDgnY6KFpaWWrQysRGf4BgmSKQFCKWKQMKTqNzz2svv/XY55ybeycTCw+z736cs/f61rdee5hmz/Hx85c66m4QyTEzrdAo4cd6EuuJ2P4wtbmUgfZkCyRoWVcwyMI29ybW47sfhRfXf793+z4X4ZchPEl3F2esElYrbRVaEjQGEKGE3jcUofGwlIEBygoACAa0fmDrdV4AOAg6FV4+W49nUPdlEW4AElGNtqjZ+hqIdI2NAC7KuvAZloyJCR+IukGmF5A6iH/IbEBWLN2NevbBFQ6tCoAF3u7VggYQtQJyFlygOAADI74Jf669QDiWWh6xFRMUgLF6PAGYkcgGgGkBE/x8AiSVaykG0AUxlgm7BY0BUMAQL8R77LM96F98A98kBeu+kAdlgA0MntUGACmOFDQl5sm+Rai6lwpMLtiEgSVGE8wVFBkAB7XcU+rdJOoLSU0x8Aii3ta/0AWqMHjlM6LDPaYDHLSsnRn9pjMny2jBCDSu9H3tDqpCmw4C6lgHqAQmWB05uwwF8RCAQpU7jIbQYCElBsjAlabfqJdnD7lKwzVcIVVOgmKpF2g921pS8/QRvuETmwDEKZdwFHMocYHffYSfBc0opojVIomjx/dY64CkxVktMsgar16/IhbKygANruwWA+YDkURUcNHQaK5ps1XhBwaAzf6M9YzWq3Ac1EKACm80cB8KV6IdPsCR0aQAMBAaUkxXPyU6WDqlypKaSEOtmCCpDyAKFgu1gSecrhdar4n++VsiGUVWDHUpdJkYEPEkEyDc7paHTShXbkuNhqQfaF5wMt16lff69JYFFYT3A8AYgFxku5xtBtw9R7YsEiH85hcYLIsfuO0lfCCHvTtMWxszNRhDebp+LRsTGobFr0zBiO5tBnhWaZgiDwD5gi3Wiw+YcDAwoDfB+MaFq83RsP8M5zSYdFjsBwfh9YAjErbyQLHNVNUsH2Dl2odCh4dE+0vQXjtI9YG2z05zOKvSbdR3eKdtLTbugVKzoOQxC+7KA5NtJPiXEZaH5xDglMrOBMHTWxdWhA/QVqtgEdx3EtVwSkDOxE4GHESpCZzcHLe+4gg3HA7P69jpfvutTA0GTQNNkXAs5UYJVjC593keik/JBohzALjQsXbrJtRksRgntzm7nVX4GnZumtC4D23N4aIAZWdv9LyZv+3IA87AlHY1HQu9+q7Qwb7nAQ01FbQ+g5NBaNOKA2jdD0bg4+UjzCrbqu6IgrLB6aLRF6KWB0ZNUj15QvLCRVa8PNanqiq7pM7kbVXDEvdaipMmHIRfBa2//aYC9WI5vjH6ydLsB1ezpePiK9PhYcoLnjSK5kljNUWqvXppKdVxo4XFhIsJ93gXy/8clxIvt0X7i4XrU8+1D+wGgKPGW/UCzHfew9VsXywVZxbz8GYdKqS4rCTfZ/NZvD8WA/Yxu/aW661F7q+cIbsXVO6EcVf3b0t9SIXFx9N+kwEO3w8QVmhggq+/9xSroVdiv5TZlr0SanL6/KXOK5SaL9b/G4DRdDzONZbPuAjXS4bnfPWBPrJkjhzpYbdR8OeXz62nvBt3HD3z3F/2f0Fyx9O7XL2HAoj7YG33AK8Bag4TrJlOa0DrrVtrj7DsPBtKlgstsZGIcOW+B0wvlMP1EOqcCh1rTldb+/Xcw2woqbaLeh/Vbl7vH/Vgx08TABrehO53ccJKK1ZWP+gjpRqAKdaN8jxLs5r7Bx5TMBm18kjxOOZ0ub/3flUW/nzw4PSJp568CT0vYXq5aGJgslc4o7doPI6dcis2eUq950Ug1DqF9NvQ/uVf79y5v+E1IptedEInNj+iT2L9Nfv9jf7gI/pFdP4D5rfoaYw/Lv+pReVRq/JOEEXOee/PAf7/PP8C3bt510T4rIwAAAAASUVORK5CYII=",Dt=it({}),Lt=it({});function Bt(t,e,i){const n=t.slice();return n[19]=e[i],n}function Nt(t){let e,i,n,r,l,o,c,u,d,f,v,p,m,_;return{c(){e=h("div"),i=h("div"),n=B("svg"),r=B("path"),l=w(),o=h("div"),c=T(t[5]),u=w(),d=h("div"),f=T(t[4]),v=w(),p=h("div"),p.textContent=`${t[11]}`,s(r,"d","M.937-.016L5.793 4.84.937 9.696z"),s(r,"fill",t[7]),s(r,"fill-rule","evenodd"),s(r,"fill-opacity",".582"),s(n,"width","6"),s(n,"height","10"),s(i,"class","frame-triangle svelte-1hxft88"),Te(i,"rotate",!t[9]),j(i,"visibility",t[0].children.length>0?"visible":"hidden"),s(o,"class","time svelte-1hxft88"),j(o,"color",t[7]),j(o,"font-weight",t[10]<.2?500:600),s(d,"class","name svelte-1hxft88"),s(p,"class","code-position svelte-1hxft88"),s(e,"class","frame-description svelte-1hxft88"),Te(e,"application-code",t[0].isApplicationCode),Te(e,"children-visible",!t[9]),j(e,"padding-left",`${t[2]*35}px`)},m(b,A){N(b,e,A),a(e,i),a(i,n),a(n,r),a(e,l),a(e,o),a(o,c),a(e,u),a(e,d),a(d,f),a(e,v),a(e,p),m||(_=z(e,"click",pt(ht(t[12]))),m=!0)},p(b,A){A&128&&s(r,"fill",b[7]),A&512&&Te(i,"rotate",!b[9]),A&1&&j(i,"visibility",b[0].children.length>0?"visible":"hidden"),A&32&&Ee(c,b[5]),A&128&&j(o,"color",b[7]),A&16&&Ee(f,b[4]),A&1&&Te(e,"application-code",b[0].isApplicationCode),A&512&&Te(e,"children-visible",!b[9]),A&4&&j(e,"padding-left",`${b[2]*35}px`)},d(b){b&&L(e),m=!1,_()}}}function zt(t){let e,i,n,r,l=t[0].group.frames.length+"",o,c,u,d,f,v;return{c(){e=h("div"),i=h("div"),n=h("div"),n.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',r=w(),o=T(l),c=T(` frames hidden
        (`),u=T(t[6]),d=T(")"),s(n,"class","group-triangle svelte-1hxft88"),Te(n,"rotate",t[8]),s(i,"class","group-header-button svelte-1hxft88"),s(e,"class","group-header svelte-1hxft88"),j(e,"padding-left",`${t[2]*35}px`)},m(p,m){N(p,e,m),a(e,i),a(i,n),a(i,r),a(i,o),a(i,c),a(i,u),a(i,d),f||(v=z(e,"click",pt(ht(t[13]))),f=!0)},p(p,m){m&256&&Te(n,"rotate",p[8]),m&1&&l!==(l=p[0].group.frames.length+"")&&Ee(o,l),m&64&&Ee(u,p[6]),m&4&&j(e,"padding-left",`${p[2]*35}px`)},d(p){p&&L(e),f=!1,v()}}}function Wt(t){let e,i=[],n=new Map,r,l=Vt(t[0].children);const o=c=>c[19].uuid;for(let c=0;c<l.length;c+=1){let u=Bt(t,l,c),d=o(u);n.set(d,i[c]=Ut(d,u))}return{c(){e=h("div");for(let c=0;c<i.length;c+=1)i[c].c();s(e,"class","children svelte-1hxft88")},m(c,u){N(c,e,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);r=!0},p(c,u){u&15&&(l=Vt(c[0].children),Oe(),i=Ci(i,u,o,1,c,l,n,e,Ai,Ut,null,Bt),De())},i(c){if(!r){for(let u=0;u<l.length;u+=1)$(i[u]);r=!0}},o(c){for(let u=0;u<i.length;u+=1)O(i[u]);r=!1},d(c){c&&L(e);for(let u=0;u<i.length;u+=1)i[u].d()}}}function Ut(t,e){let i,n,r;return n=new Gt({props:{frame:e[19],rootFrame:e[1],indent:e[2]+(e[3]?1:0)}}),{key:t,first:null,c(){i=hi(),fe(n.$$.fragment),this.first=i},m(l,o){N(l,i,o),le(n,l,o),r=!0},p(l,o){e=l;const c={};o&1&&(c.frame=e[19]),o&2&&(c.rootFrame=e[1]),o&12&&(c.indent=e[2]+(e[3]?1:0)),n.$set(c)},i(l){r||($(n.$$.fragment,l),r=!0)},o(l){O(n.$$.fragment,l),r=!1},d(l){l&&L(i),oe(n,l)}}}function en(t){let e,i,n,r,l,o,c=t[3]&&Nt(t),u=t[0].group&&t[0].group.rootFrame==t[0]&&!t[9]&&zt(t),d=!t[9]&&t[0].children.length>0&&Wt(t);return{c(){e=h("div"),c&&c.c(),i=w(),u&&u.c(),n=w(),d&&d.c(),r=w(),l=h("div"),l.innerHTML="",s(l,"class","visual-guide svelte-1hxft88"),j(l,"left",`${t[2]*35+21}px`),j(l,"backgroundColor",t[7]),s(e,"class","frame svelte-1hxft88")},m(f,v){N(f,e,v),c&&c.m(e,null),a(e,i),u&&u.m(e,null),a(e,n),d&&d.m(e,null),a(e,r),a(e,l),o=!0},p(f,[v]){f[3]?c?c.p(f,v):(c=Nt(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),f[0].group&&f[0].group.rootFrame==f[0]&&!f[9]?u?u.p(f,v):(u=zt(f),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!f[9]&&f[0].children.length>0?d?(d.p(f,v),v&513&&$(d,1)):(d=Wt(f),d.c(),$(d,1),d.m(e,r)):d&&(Oe(),O(d,1,1,()=>{d=null}),De()),v&4&&j(l,"left",`${f[2]*35+21}px`),v&128&&j(l,"backgroundColor",f[7])},i(f){o||($(d),o=!0)},o(f){O(d),o=!1},d(f){f&&L(e),c&&c.d(),u&&u.d(),d&&d.d()}}}function tn(t,e,i){var k;let n,r,l,o,c;_e(t,Lt,g=>i(14,l=g)),_e(t,Dt,g=>i(15,o=g)),_e(t,Z,g=>i(16,c=g));let{frame:u}=e,{rootFrame:d}=e,{indent:f=0}=e,v;const p=u.time/d.time;let m;const _=`${u.filePathShort}:${(k=u.lineNo)==null?void 0:k.toString().padEnd(4," ")}`;let b,A=null;if(u.group){const g=u.group.libraries;g.length<4?A=g.join(", "):A=`${g[0]}, ${g[1]}, ${g[2]}...`}let I;p>.6?I="#FF4159":p>.3?I="#F5A623":p>.2?I="#D8CB2A":I="#7ED321";function R(g){P(u,!r,g.altKey)}function P(g,E,y=!0){if(Lt.update(M=>({...M,[g.uuid]:E})),y)for(const M of g.children)P(M,E,!0),g.group&&g.group.rootFrame==g&&V(g.group.id,!E)}function V(g,E){Dt.update(y=>({...y,[g]:E}))}function U(){u.group&&V(u.group.id,!n)}return t.$$set=g=>{"frame"in g&&i(0,u=g.frame),"rootFrame"in g&&i(1,d=g.rootFrame),"indent"in g&&i(2,f=g.indent)},t.$$.update=()=>{var g,E;if(t.$$.dirty&32769&&(u.group?o[u.group.id??""]||((g=u.group)==null?void 0:g.rootFrame)===u||u.children.filter(y=>!y.group).length>1?i(3,v=!0):i(3,v=!1):i(3,v=!0)),t.$$.dirty&1&&(u.className?i(4,m=`${u.className}.${u.function}`):i(4,m=u.function)),t.$$.dirty&65537)if(c.timeFormat==="absolute")i(5,b=u.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(c.timeFormat==="proportion")i(5,b=`${(p*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");t.$$.dirty&32769&&i(8,n=o[((E=u.group)==null?void 0:E.id)??""]===!0),t.$$.dirty&16385&&i(9,r=l[u.uuid]===!0)},[u,d,f,v,m,b,A,I,n,r,p,_,R,U,l,o,c]}let Gt=class extends pe{constructor(e){super(),he(this,e,tn,en,re,{frame:0,rootFrame:1,indent:2})}};function jt(t,e,i){let n=t;for(const r of e)if(n=r(n,i),!n)return null;return n}const nn="\0",rn="[await]",Ke="[self]",sn=[rn,Ke,"[out-of-context]","[root]"],ln="c",on="h";class Ze{constructor(e,i){C(this,"uuid",crypto.randomUUID());C(this,"identifier");C(this,"_identifierParts");C(this,"startTime");C(this,"time",0);C(this,"absorbedTime",0);C(this,"group",null);C(this,"attributes");C(this,"_children",[]);C(this,"parent",null);C(this,"context");var l;this.identifier=e.identifier,this._identifierParts=this.identifier.split(nn),this.startTime=e.startTime??0,this.time=e.time??0,this.attributes=e.attributes??{},this.context=i;let n=this.startTime;const r=(l=e.children)==null?void 0:l.map(o=>(o.startTime===void 0&&(o={...o,startTime:n},n+=o.time??0),n=o.startTime+(o.time??0),new Ze(o,i)));r&&this.addChildren(r)}cloneDeep(){return new Ze(this,this.context)}get children(){return this._children}addChild(e,i={}){if(e.removeFromParent(),e.parent=this,i.after){const n=this._children.indexOf(i.after);if(n==-1)throw new Error("After frame not found");this._children.splice(n+1,0,e)}else this._children.push(e)}addChildren(e,i={}){e=e.slice(),i.after?(e.slice().reverse(),e.forEach(r=>this.addChild(r,i))):e.forEach(n=>this.addChild(n,i))}removeFromParent(){if(this.parent){const e=this.parent._children.indexOf(this);this.parent._children.splice(e,1),this.parent=null}}getAttributes(e){return Object.keys(this.attributes).filter(n=>n.startsWith(e)).map(n=>({data:n.slice(1),time:this.attributes[n]}))}getAttributeValue(e){const i=this.getAttributes(e);if(!i||i.length==0)return null;let n=0;for(let r=0;r<i.length;r++)i[r].time>i[n].time&&(n=r);return i[n].data}get hasTracebackHide(){return this.getAttributeValue(on)=="1"}get function(){return this._identifierParts[0]}get filePath(){return this._identifierParts[1]??null}get lineNo(){const e=this._identifierParts[2];return e?parseInt(e):null}get isSynthetic(){return sn.includes(this.identifier)}get filePathShort(){return this.isSynthetic&&this.parent?this.parent.filePathShort:this.filePath?this.context.shortenPath(this.filePath):null}get isApplicationCode(){if(this.isSynthetic)return!1;const e=this.filePath;return!e||["/lib/","\\lib\\"].some(n=>e.includes(n))?!1:e.startsWith("<")?!!e.startsWith("<ipython-input-"):!0}get proportionOfParent(){return this.parent?this.time/this.parent.time:1}get className(){return this.getAttributeValue(ln)??""}get library(){const e=this.filePathShort;return e?/^[^\\/.]*/.exec(e)[0]:null}}class an{constructor(e){C(this,"id");C(this,"rootFrame");C(this,"_frames",[]);this.id=crypto.randomUUID(),this.rootFrame=e}addFrame(e){e.group&&e.group.removeFrame(e),this._frames.push(e),e.group=this}removeFrame(e){if(e.group!==this)throw new Error("Frame not in group.");const i=this._frames.indexOf(e);if(i===-1)throw new Error("Frame not found in group.");this._frames.splice(i,1),e.group=null}get frames(){return this._frames}get exitFrames(){const e=[];for(const i of this.frames){let n=!1;for(const r of i.children)if(r.group!=this){n=!0;break}n&&e.push(i)}return e}get libraries(){const e=[];for(const i of this.frames){const n=i.library;n&&(e.includes(n)||e.push(n))}return e}}function rt(t,e){const{replaceWith:i}=e,n=t.parent;if(!n)throw new Error("Cannot delete the root frame");if(i=="children")n.addChildren(t.children,{after:t});else if(i=="self_time")n.addChild(new Ze({identifier:Ke,time:t.time},n.context),{after:t});else if(i=="nothing")n.absorbedTime+=t.time;else throw new Bi(i);t.removeFromParent(),Ct(t,!0)}function cn(t,e){if(t.parent!==e.parent)throw new Error("Both frames must have the same parent.");e.absorbedTime+=t.absorbedTime,e.time+=t.time,Object.entries(t.attributes).forEach(([i,n])=>{e.attributes[i]!==void 0?e.attributes[i]+=n:e.attributes[i]=n}),e.addChildren(t.children),t.removeFromParent(),Ct(t,!1)}function Ct(t,e){if(e&&t.children&&t.children.forEach(i=>{Ct(i,!0)}),t.group){const i=t.group;i.removeFrame(t),i.frames.length===1&&i.removeFrame(i.frames[0])}}function kt(t,e){if(!t)return null;for(const i of t.children)kt(i),i.filePath&&i.filePath.includes("<frozen importlib._bootstrap")&&rt(i,{replaceWith:"children"});return t}function Ft(t,e){if(!t)return null;for(const i of t.children)Ft(i),i.hasTracebackHide&&rt(i,{replaceWith:"children"});return t}function Qt(t,e){if(!t)return null;const i={};for(const n of t.children.slice())if(i[n.identifier]){const r=i[n.identifier];cn(n,r)}else i[n.identifier]=n;return t.children.forEach(n=>Qt(n)),t._children.sort((n,r)=>r.time-n.time),t}function qt(t,e){if(!t)return null;const i=e.hideRegex,n=e.showRegex;function r(o){const c=o.filePath||"",u=n&&new RegExp(n).test(c),d=i&&new RegExp(i).test(c);return u?!1:d?!0:!o.isApplicationCode}function l(o,c){c.addFrame(o),o.children.forEach(u=>{r(u)&&l(u,c)})}return t.children.forEach(o=>{if(!o.group&&r(o)&&o.children.some(r)){const c=new an(o);l(o,c)}qt(o,e)}),t}function Kt(t,e,i=!0){if(!t)return null;let n=null;for(const r of t.children)r.identifier===Ke?n?(n.time+=r.time,r.removeFromParent()):n=r:n=null;return i&&t.children.forEach(r=>Kt(r,e,!0)),t}function Zt(t,e){return t?(t.children.length===1&&t.children[0].identifier===Ke&&rt(t.children[0],{replaceWith:"nothing"}),t.children.forEach(i=>Zt(i)),t):null}function Yt(t,e,i=null){if(!t)return null;i===null&&(i=t.time,i<=0&&(i=1e-44));const n=e.filterThreshold??.01;for(const r of t.children.slice())r.time/i<n&&rt(r,{replaceWith:"nothing"});return t.children.forEach(r=>Yt(r,e,i)),t}function Xt(t,e){if(!t)return null;const i=o=>{var c;return((c=o.filePath)==null?void 0:c.includes("pyinstrument/__main__.py"))&&o.children.length>0},n=o=>{var c;return o.proportionOfParent>.8&&((c=o.filePath)==null?void 0:c.includes("<string>"))&&o.children.length>0},r=o=>{var c;return o.proportionOfParent>.8&&(new RegExp(".*runpy.py").test(o.filePath??"")||((c=o.filePath)==null?void 0:c.includes("<frozen runpy>")))&&o.children.length>0};let l=t;if(!i(l)||(l=l.children[0],!n(l))||(l=l.children[0],!r(l)))return t;for(;r(l);)l=l.children[0];return l.removeFromParent(),l}function un(t){let e,i;return e=new Gt({props:{frame:t[0],rootFrame:t[0]}}),{c(){fe(e.$$.fragment)},m(n,r){le(e,n,r),i=!0},p(n,r){const l={};r&1&&(l.frame=n[0]),r&1&&(l.rootFrame=n[0]),e.$set(l)},i(n){i||($(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function dn(t){let e;return{c(){e=h("div"),e.textContent="All frames were filtered out.",s(e,"class","error")},m(i,n){N(i,e,n)},p:F,i:F,o:F,d(i){i&&L(e)}}}function fn(t){let e,i,n,r,l,o,c;const u=[dn,un],d=[];function f(v,p){return v[0]?1:0}return l=f(t),o=d[l]=u[l](t),{c(){e=h("div"),i=h("div"),n=w(),r=h("div"),o.c(),s(i,"class","spacer"),j(i,"height","20px"),s(r,"class","margins"),s(e,"class","tree-view")},m(v,p){N(v,e,p),a(e,i),a(e,n),a(e,r),d[l].m(r,null),c=!0},p(v,[p]){let m=l;l=f(v),l===m?d[l].p(v,p):(Oe(),O(d[m],1,1,()=>{d[m]=null}),De(),o=d[l],o?o.p(v,p):(o=d[l]=u[l](v),o.c()),$(o,1),o.m(r,null))},i(v){c||($(o),c=!0)},o(v){O(o),c=!1},d(v){v&&L(e),d[l].d()}}}function hn(t,e,i){let n,{session:r}=e;const l=Ri([Z],([c])=>{const u=[c.removeImportlib?kt:null,c.removeTracebackHide?Ft:null,Kt,Qt,Zt,c.removeIrrelevant?Yt:null,c.removePyinstrument?Xt:null,c.collapseMode!=="disabled"?qt:null].filter(f=>f!==null),d={filterThreshold:c.removeIrrelevantThreshold,hideRegex:c.collapseMode=="custom"?c.collapseCustomHide:void 0,showRegex:c.collapseMode=="custom"?c.collapseCustomShow:void 0};return{processors:u,options:d}});_e(t,l,c=>i(3,n=c));let o;return t.$$set=c=>{"session"in c&&i(2,r=c.session)},t.$$.update=()=>{t.$$.dirty&12&&i(0,o=jt(r.rootFrame.cloneDeep(),n.processors,n.options))},[o,l,r,n]}class pn extends pe{constructor(e){super(),he(this,e,hn,fn,re,{session:2})}}class mn{constructor(e){C(this,"mediaQueryList",null);this.onDevicePixelRatioChanged=e,this._onChange=this._onChange.bind(this),this.createMediaQueryList()}createMediaQueryList(){this.removeMediaQueryList();let e=`(resolution: ${window.devicePixelRatio}dppx)`;this.mediaQueryList=matchMedia(e),this.mediaQueryList.addEventListener("change",this._onChange)}removeMediaQueryList(){var e;(e=this.mediaQueryList)==null||e.removeEventListener("change",this._onChange),this.mediaQueryList=null}_onChange(e){this.onDevicePixelRatioChanged(),this.createMediaQueryList()}destroy(){this.removeMediaQueryList()}}class vn{constructor(e){C(this,"canvas");C(this,"_size_observer");C(this,"_devicePixelRatioObserver");C(this,"drawAnimationRequest",null);this.container=e,getComputedStyle(e).position!="absolute"&&(e.style.position="relative"),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0",this.canvas.style.top="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.container.appendChild(this.canvas),this.setCanvasSize=this.setCanvasSize.bind(this),this._size_observer=new ResizeObserver(this.setCanvasSize),this._size_observer.observe(e),this._devicePixelRatioObserver=new mn(this.setCanvasSize),window.requestAnimationFrame(()=>{this.setCanvasSize()})}destroy(){this._size_observer.disconnect(),this._devicePixelRatioObserver.destroy(),this.canvas.remove(),this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null)}setNeedsRedraw(){this.drawAnimationRequest===null&&(this.drawAnimationRequest=window.requestAnimationFrame(()=>{this.drawAnimationRequest=null,this.canvasViewRedraw()}))}redrawIfNeeded(){this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null,this.canvasViewRedraw())}canvasViewRedraw(){const e=this.canvas.getContext("2d");e&&(e.resetTransform(),e.scale(window.devicePixelRatio,window.devicePixelRatio),this.redraw(e,{width:this.canvas.width/window.devicePixelRatio,height:this.canvas.height/window.devicePixelRatio}))}get width(){return this.canvas.width/window.devicePixelRatio}get height(){return this.canvas.height/window.devicePixelRatio}setCanvasSize(){const e=window.devicePixelRatio;this.canvas.height=this.container.clientHeight*e,this.canvas.width=this.container.clientWidth*e,this.canvasViewRedraw()}}const gn="#212325",_n=18,bn=17,wn=["#47A298","#9FC175","#C1A731","#C07210","#B84210","#B53134","#9A3586","#4958B5","#3475BA","#318DBC","#47A298"].map(Ui);class yn extends vn{constructor(i){super(i);C(this,"zoom",1);C(this,"startT",0);C(this,"frames",[]);C(this,"isZoomedIn",!1);C(this,"lastDrawWidth",0);C(this,"lastDrawHeight",0);C(this,"mouseLocation",null);C(this,"_libraryOrder",null);C(this,"_colors",[]);this.onWheel=this.onWheel.bind(this),this.canvas.addEventListener("wheel",this.onWheel)}destroy(){super.destroy(),this.canvas.removeEventListener("wheel",this.onWheel)}setRootFrame(i){this.frames=[],this._collectFrames(i,0),this.fitContents()}_collectFrames(i,n){this.frames.push({frame:i,depth:n});for(const r of i.children)r.identifier!==Ke&&this._collectFrames(r,n+1)}get frameMaxT(){return this.frames.reduce((i,n)=>Math.max(i,n.frame.startTime+n.frame.time),0)}get minZoom(){return this.width/this.frameMaxT}fitContents(){this.startT=0,this.zoom=this.minZoom,this.isZoomedIn=!1}clampViewport(){this.zoom<this.minZoom?(this.zoom=this.minZoom,this.isZoomedIn=!1):this.isZoomedIn=!0,this.startT<0&&(this.startT=0);const i=this.frameMaxT-this.width/this.zoom;this.startT>i&&(this.startT=i)}redraw(i,n){const{width:r,height:l}=n;(r!==this.lastDrawWidth||l!==this.lastDrawHeight)&&(this.isZoomedIn?this.clampViewport():this.fitContents()),this.lastDrawWidth=r,this.lastDrawHeight=l,i.fillStyle=gn,i.fillRect(0,0,r,l);for(const o of this.frames)this.drawFrame(i,o);i.globalAlpha=1,i.fillStyle="red",i.fillText(`startT: ${this.startT}`,10,10),i.fillText(`zoom: ${this.zoom}`,10,20)}drawFrame(i,n){const r=n.depth*_n,l=bn;let o=this.xForT(n.frame.startTime);const c=this.xForT(n.frame.startTime+n.frame.time);let u=c-o;if(!(c<0||o>this.width)){if(u<1&&(u=1),u>2&&(u-=1),i.fillStyle=this.colorForFrame(n),i.globalAlpha=n.frame.isApplicationCode?1:.5,u<2){i.fillRect(o,r,u,l);return}if(i.save(),i.beginPath(),i.rect(o,r,u,l),i.fill(),i.clip(),u>2){i.font='13px "Source Sans Pro", sans-serif',i.fillStyle="white";let d;n.frame.className?d=`${n.frame.className}.${n.frame.function}`:n.frame.function=="<module>"?d=n.frame.filePathShort??n.frame.filePath??"":d=n.frame.function,o<0&&(o=0),i.fillText(d,o+2,r+13)}i.restore()}}xForT(i){return(i-this.startT)*this.zoom}onWheel(i){if(i.ctrlKey||i.metaKey){const n=this.startT+i.offsetX/this.zoom;this.zoom*=1-i.deltaY/100,this.startT=n-i.offsetX/this.zoom,this.clampViewport(),this.setNeedsRedraw(),i.preventDefault();return}this.startT+=i.deltaX/this.zoom,this.clampViewport(),this.setNeedsRedraw(),i.preventDefault()}onMouseMove(i){this.mouseLocation={x:i.offsetX,y:i.offsetY},this.setNeedsRedraw()}onMouseLeave(i){this.mouseLocation=null,this.setNeedsRedraw()}_assignLibraryOrder(){const i={};for(const r of this.frames){const o=r.frame.library??"";i[o]=(i[o]||0)+1}const n=Object.keys(i);n.sort((r,l)=>i[l]-i[r]),this._libraryOrder=n}colorForLibraryIndex(i){if(this._colors[i]!==void 0)return this._colors[i];const n=Math.pow(2,Math.ceil(Math.log2(i+1))),l=(2*i-n+1)/n,o=Ni(wn,l);return this._colors[i]=o,o}colorForFrame(i){var l;this._libraryOrder||this._assignLibraryOrder();let n=((l=this._libraryOrder)==null?void 0:l.indexOf(i.frame.library||""))??0;return n===-1&&(n=0),this.colorForLibraryIndex(n)}}function An(t){let e;return{c(){e=h("div"),e.innerHTML="",s(e,"class","timeline svelte-1bd0ore")},m(i,n){N(i,e,n),t[4](e)},p:F,i:F,o:F,d(i){i&&L(e),t[4](null)}}}function Cn(t,e,i){let{session:n}=e;const r=[kt,Ft,Xt],l={};let o,c=null,u=null;function d(f){et[f?"unshift":"push"](()=>{c=f,i(0,c)})}return t.$$set=f=>{"session"in f&&i(1,n=f.session)},t.$$.update=()=>{t.$$.dirty&2&&i(2,o=jt(n.rootFrame.cloneDeep(),r,l)),t.$$.dirty&1&&c&&i(3,u=new yn(c)),t.$$.dirty&12&&o&&u&&u.setRootFrame(o)},[c,n,o,u,d]}class kn extends pe{constructor(e){super(),he(this,e,Cn,An,re,{session:1})}}function Fn(t){let e,i=t[1].viewMode+"",n;return{c(){e=T("Unknown view mode: "),n=T(i)},m(r,l){N(r,e,l),N(r,n,l)},p(r,l){l&2&&i!==(i=r[1].viewMode+"")&&Ee(n,i)},i:F,o:F,d(r){r&&(L(e),L(n))}}}function En(t){let e,i;return e=new kn({props:{session:t[0]}}),{c(){fe(e.$$.fragment)},m(n,r){le(e,n,r),i=!0},p(n,r){const l={};r&1&&(l.session=n[0]),e.$set(l)},i(n){i||($(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Tn(t){let e,i;return e=new pn({props:{session:t[0]}}),{c(){fe(e.$$.fragment)},m(n,r){le(e,n,r),i=!0},p(n,r){const l={};r&1&&(l.session=n[0]),e.$set(l)},i(n){i||($(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Pn(t){let e,i,n;return{c(){e=h("div"),i=w(),n=h("div"),n.innerHTML='<div class="error">No samples recorded.</div>',s(e,"class","spacer"),j(e,"height","20px"),s(n,"class","margins")},m(r,l){N(r,e,l),N(r,i,l),N(r,n,l)},p:F,i:F,o:F,d(r){r&&(L(e),L(i),L(n))}}}function Mn(t){let e,i,n,r,l,o;i=new Ji({props:{session:t[0]}});const c=[Pn,Tn,En,Fn],u=[];function d(f,v){return f[0].rootFrame?f[1].viewMode==="call-stack"?1:f[1].viewMode==="timeline"?2:3:0}return r=d(t),l=u[r]=c[r](t),{c(){e=h("div"),fe(i.$$.fragment),n=w(),l.c(),s(e,"class","app svelte-1qrzcke")},m(f,v){N(f,e,v),le(i,e,null),a(e,n),u[r].m(e,null),o=!0},p(f,[v]){const p={};v&1&&(p.session=f[0]),i.$set(p);let m=r;r=d(f),r===m?u[r].p(f,v):(Oe(),O(u[m],1,1,()=>{u[m]=null}),De(),l=u[r],l?l.p(f,v):(l=u[r]=c[r](f),l.c()),$(l,1),l.m(e,null))},i(f){o||($(i.$$.fragment,f),$(l),o=!0)},o(f){O(i.$$.fragment,f),O(l),o=!1},d(f){f&&L(e),oe(i),u[r].d()}}}function Et(){document.body.style.minHeight=`${window.scrollY+window.innerHeight}px`}function In(t,e,i){let n;_e(t,qe,v=>i(1,n=v));let{session:r}=e;const l=document.createElement("link");l.rel="shortut icon",l.href=xi,document.head.appendChild(l);const o=document.createElement("link");o.rel="preload",o.as="style",o.onload=()=>{o.rel="stylesheet"},o.href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:400,600&display=swap",document.head.appendChild(o),Rt(()=>{window.addEventListener("scroll",Et),Et()}),vi(()=>{window.removeEventListener("scroll",Et)});const c=r.rootFrame,u=c==null?void 0:c.time.toLocaleString(void 0,{maximumSignificantDigits:3});r.target_description="Block at /Users/joerick/Projects/pyinstrument/pyinstrument/console.py:80";let d,f;return(f=/[^\s/]+(:\d+)?$/.exec(r.target_description))?d=f[0]:d=r.target_description,document.title=`${u}s - ${d} - pyinstrument`,t.$$set=v=>{"session"in v&&i(0,r=v.session)},[r,n]}class Rn extends pe{constructor(e){super(),he(this,e,In,Mn,re,{session:0})}}class Sn{constructor(e){C(this,"startTime");C(this,"duration");C(this,"sampleCount");C(this,"target_description");C(this,"cpuTime");C(this,"rootFrame");C(this,"sysPath");C(this,"_shortenPathCache",{});this.startTime=e.session.start_time,this.duration=e.session.duration,this.sampleCount=e.session.sample_count,this.target_description=e.session.target_description,this.cpuTime=e.session.cpu_time,this.sysPath=e.session.sys_path,this.rootFrame=new Ze(e.frame_tree,this)}shortenPath(e){if(this._shortenPathCache[e])return this._shortenPathCache[e];let i=e;if(Be(e).length>1)for(const r of this.sysPath){const l=$n(e,r);Be(l).length<Be(i).length&&(i=l)}return this._shortenPathCache[e]=i,i}}function Be(t){return t.split(/[/\\]/)}function Jt(t){const e=Be(t);return e.length>0&&e[0].endsWith(":")?e[0]:null}function $n(t,e){if(Jt(t)!=Jt(e))return t;const i=Be(t),n=Be(e);let r=0;for(;r<i.length&&r<n.length&&i[r]==n[r];)r++;return n.slice(r).map(o=>"..").concat(i.slice(r)).join("/")}return{render(t,e){const i=new Sn(e);return new Rn({target:t,props:{session:i}})}}}();
