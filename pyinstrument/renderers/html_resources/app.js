var pyinstrumentHTMLRenderer=function(){"use strict";var ci=Object.defineProperty;var ui=(C,z,U)=>z in C?ci(C,z,{enumerable:!0,configurable:!0,writable:!0,value:U}):C[z]=U;var b=(C,z,U)=>ui(C,typeof z!="symbol"?z+"":z,U);function C(){}function z(t){return t()}function U(){return Object.create(null)}function H(t){t.forEach(z)}function Be(t){return typeof t=="function"}function G(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function lt(t){return Object.keys(t).length===0}function at(t,...e){if(t==null){for(const n of e)n(void 0);return C}const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function ue(t,e,i){t.$$.on_destroy.push(at(e,i))}function d(t,e){t.appendChild(e)}function O(t,e,i){t.insertBefore(e,i||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function ct(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function v(t){return document.createElement(t)}function ze(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function F(){return B(" ")}function ut(){return B("")}function te(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function $e(t){return function(e){return e.preventDefault(),t.call(this,e)}}function We(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function g(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function ft(t){let e;return{p(...i){e=i,e.forEach(n=>t.push(n))},r(){e.forEach(i=>t.splice(t.indexOf(i),1))}}}function ht(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ue(t,e){t.value=e??""}function D(t,e,i,n){i==null?t.style.removeProperty(e):t.style.setProperty(e,i,"")}function W(t,e,i){t.classList.toggle(e,!!i)}let ie;function ne(t){ie=t}function He(){if(!ie)throw new Error("Function called outside component initialization");return ie}function dt(t){He().$$.on_mount.push(t)}function mt(t){He().$$.on_destroy.push(t)}const K=[],ye=[];let Y=[];const Qe=[],pt=Promise.resolve();let Ae=!1;function gt(){Ae||(Ae=!0,pt.then(xe))}function Fe(t){Y.push(t)}const Ee=new Set;let j=0;function xe(){if(j!==0)return;const t=ie;do{try{for(;j<K.length;){const e=K[j];j++,ne(e),_t(e.$$)}}catch(e){throw K.length=0,j=0,e}for(ne(null),K.length=0,j=0;ye.length;)ye.pop()();for(let e=0;e<Y.length;e+=1){const i=Y[e];Ee.has(i)||(Ee.add(i),i())}Y.length=0}while(K.length);for(;Qe.length;)Qe.pop()();Ae=!1,Ee.clear(),ne(t)}function _t(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Fe)}}function vt(t){const e=[],i=[];Y.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),Y=e}const fe=new Set;let Q;function he(){Q={r:0,c:[],p:Q}}function de(){Q.r||H(Q.c),Q=Q.p}function I(t,e){t&&t.i&&(fe.delete(t),t.i(e))}function L(t,e,i,n){if(t&&t.o){if(fe.has(t))return;fe.add(t),Q.c.push(()=>{fe.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function me(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wt(t,e){L(t,1,1,()=>{e.delete(t.key)})}function bt(t,e,i,n,s,o,r,l,a,c,f,u){let h=t.length,_=o.length,E=h;const m={};for(;E--;)m[t[E].key]=E;const y=[],w=new Map,A=new Map,S=[];for(E=_;E--;){const p=u(s,o,E),R=i(p);let P=r.get(R);P?S.push(()=>P.p(p,e)):(P=c(R,p),P.c()),w.set(R,y[E]=P),R in m&&A.set(R,Math.abs(E-m[R]))}const V=new Set,T=new Set;function $(p){I(p,1),p.m(l,f),r.set(p.key,p),f=p.first,_--}for(;h&&_;){const p=y[_-1],R=t[h-1],P=p.key,N=R.key;p===R?(f=p.first,h--,_--):w.has(N)?!r.has(P)||V.has(P)?$(p):T.has(N)?h--:A.get(P)>A.get(N)?(T.add(P),$(p)):(V.add(N),h--):(a(R,r),h--)}for(;h--;){const p=t[h];w.has(p.key)||a(p,r)}for(;_;)$(y[_-1]);return H(S),y}function re(t){t&&t.c()}function X(t,e,i){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,i),Fe(()=>{const o=t.$$.on_mount.map(z).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...o):H(o),t.$$.on_mount=[]}),s.forEach(Fe)}function Z(t,e){const i=t.$$;i.fragment!==null&&(vt(i.after_update),H(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function yt(t,e){t.$$.dirty[0]===-1&&(K.push(t),gt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function se(t,e,i,n,s,o,r=null,l=[-1]){const a=ie;ne(t);const c=t.$$={fragment:null,ctx:[],props:o,update:C,not_equal:s,bound:U(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:U(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let f=!1;if(c.ctx=i?i(t,e.props||{},(u,h,..._)=>{const E=_.length?_[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=E)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](E),f&&yt(t,u)),h}):[],c.update(),f=!0,H(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const u=ht(e.target);c.fragment&&c.fragment.l(u),u.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&I(t.$$.fragment),X(t,e.target,e.anchor),xe()}ne(a)}class oe{constructor(){b(this,"$$");b(this,"$$set")}$destroy(){Z(this,1),this.$destroy=C}$on(e,i){if(!Be(i))return C;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const s=n.indexOf(i);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const At="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(At);const J=[];function Ce(t,e=C){let i;const n=new Set;function s(l){if(G(t,l)&&(t=l,i)){const a=!J.length;for(const c of n)c[1](),J.push(c,t);if(a){for(let c=0;c<J.length;c+=2)J[c][0](J[c+1]);J.length=0}}}function o(l){s(l(t))}function r(l,a=C){const c=[l,a];return n.add(c),n.size===1&&(i=e(s,o)||C),l(t),()=>{n.delete(c),n.size===0&&i&&(i(),i=null)}}return{set:s,update:o,subscribe:r}}const Ge=Ce({}),qe=Ce({}),pe=Ce("absolute");function Ft(t){let e,i,n,s,o,r,l,a,c,f,u,h,_,E,m,y,w,A,S,V,T,$,p,R,P,N=t[0].sampleCount+"",Le,rt,we,st,be,Ne,Ve,ot;return Ne=ft(t[6][0]),{c(){e=v("div"),i=v("div"),n=v("div"),s=v("div"),s.textContent="pyinstrument",o=F(),r=v("div"),l=v("label"),l.textContent="Absolute time",a=F(),c=v("input"),f=F(),u=v("div"),u.textContent="Recorded:",h=F(),_=v("div"),_.textContent=`${t[2]}`,E=F(),m=v("div"),m.textContent="Duration:",y=F(),w=v("div"),w.textContent=`${t[4]} seconds`,A=F(),S=v("label"),S.textContent="Proportional time",V=F(),T=v("input"),$=F(),p=v("div"),p.textContent="Samples:",R=F(),P=v("div"),Le=B(N),rt=F(),we=v("div"),we.textContent="CPU time:",st=F(),be=v("div"),be.textContent=`${t[3]} seconds`,g(s,"class","title svelte-tewt95"),g(l,"class","metric-label svelte-tewt95"),g(l,"for","absolute"),g(c,"type","radio"),c.__value="absolute",Ue(c,c.__value),g(c,"id","absolute"),g(c,"name","time-format"),c.checked=!0,g(u,"class","metric-label svelte-tewt95"),g(_,"class","metric-value svelte-tewt95"),g(m,"class","metric-label svelte-tewt95"),g(w,"class","metric-value svelte-tewt95"),g(S,"class","metric-label svelte-tewt95"),g(S,"for","proportion"),g(T,"type","radio"),T.__value="proportion",Ue(T,T.__value),g(T,"id","proportion"),g(T,"name","time-format"),g(p,"class","metric-label svelte-tewt95"),g(P,"class","metric-value svelte-tewt95"),g(we,"class","metric-label svelte-tewt95"),g(be,"class","metric-value svelte-tewt95"),g(r,"class","metrics svelte-tewt95"),g(n,"class","row svelte-tewt95"),g(i,"class","margins"),g(e,"class","header svelte-tewt95"),Ne.p(c,T)},m(x,ce){O(x,e,ce),d(e,i),d(i,n),d(n,s),d(n,o),d(n,r),d(r,l),d(r,a),d(r,c),c.checked=c.__value===t[1],d(r,f),d(r,u),d(r,h),d(r,_),d(r,E),d(r,m),d(r,y),d(r,w),d(r,A),d(r,S),d(r,V),d(r,T),T.checked=T.__value===t[1],d(r,$),d(r,p),d(r,R),d(r,P),d(P,Le),d(r,rt),d(r,we),d(r,st),d(r,be),Ve||(ot=[te(c,"change",t[5]),te(T,"change",t[7])],Ve=!0)},p(x,[ce]){ce&2&&(c.checked=c.__value===x[1]),ce&2&&(T.checked=T.__value===x[1]),ce&1&&N!==(N=x[0].sampleCount+"")&&q(Le,N)},i:C,o:C,d(x){x&&k(e),Ne.r(),Ve=!1,H(ot)}}}function Et(t,e,i){var u;let n;ue(t,pe,h=>i(1,n=h));let{session:s}=e;const o=new Date(s.startTime*1e3).toLocaleString(),r=(u=s.cpuTime)==null?void 0:u.toLocaleString(void 0,{maximumSignificantDigits:3}),l=s.duration.toLocaleString(void 0,{maximumSignificantDigits:3}),a=[[]];function c(){n=this.__value,pe.set(n)}function f(){n=this.__value,pe.set(n)}return t.$$set=h=>{"session"in h&&i(0,s=h.session)},[s,n,o,r,l,c,a,f]}class Ct extends oe{constructor(e){super(),se(this,e,Et,Ft,G,{session:0})}}const Rt="data:image/png;base64,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";function Ke(t,e,i){const n=t.slice();return n[19]=e[i],n}function Ye(t){let e,i,n,s,o,r,l,a,c,f,u,h,_,E;return{c(){e=v("div"),i=v("div"),n=ze("svg"),s=ze("path"),o=F(),r=v("div"),l=B(t[5]),a=F(),c=v("div"),f=B(t[4]),u=F(),h=v("div"),h.textContent=`${t[11]}`,g(s,"d","M.937-.016L5.793 4.84.937 9.696z"),g(s,"fill",t[7]),g(s,"fill-rule","evenodd"),g(s,"fill-opacity",".582"),g(n,"width","6"),g(n,"height","10"),g(i,"class","frame-triangle svelte-1fyhnvv"),W(i,"rotate",!t[9]),D(i,"visibility",t[0].children.length>0?"visible":"hidden"),g(r,"class","time svelte-1fyhnvv"),D(r,"color",t[7]),D(r,"font-weight",t[10]<.2?500:600),g(c,"class","name svelte-1fyhnvv"),g(h,"class","code-position svelte-1fyhnvv"),g(e,"class","frame-description svelte-1fyhnvv"),W(e,"application-code",t[0].isApplicationCode),W(e,"children-visible",!t[9]),D(e,"padding-left",`${t[2]*35}px`)},m(m,y){O(m,e,y),d(e,i),d(i,n),d(n,s),d(e,o),d(e,r),d(r,l),d(e,a),d(e,c),d(c,f),d(e,u),d(e,h),_||(E=te(e,"click",We($e(t[12]))),_=!0)},p(m,y){y&128&&g(s,"fill",m[7]),y&512&&W(i,"rotate",!m[9]),y&1&&D(i,"visibility",m[0].children.length>0?"visible":"hidden"),y&32&&q(l,m[5]),y&128&&D(r,"color",m[7]),y&16&&q(f,m[4]),y&1&&W(e,"application-code",m[0].isApplicationCode),y&512&&W(e,"children-visible",!m[9]),y&4&&D(e,"padding-left",`${m[2]*35}px`)},d(m){m&&k(e),_=!1,E()}}}function je(t){let e,i,n,s,o=t[0].group.frames.length+"",r,l,a,c,f,u;return{c(){e=v("div"),i=v("div"),n=v("div"),n.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',s=F(),r=B(o),l=B(` frames hidden
        (`),a=B(t[6]),c=B(")"),g(n,"class","group-triangle svelte-1fyhnvv"),W(n,"rotate",t[8]),g(i,"class","group-header-button svelte-1fyhnvv"),g(e,"class","group-header svelte-1fyhnvv"),D(e,"padding-left",`${t[2]*35}px`)},m(h,_){O(h,e,_),d(e,i),d(i,n),d(i,s),d(i,r),d(i,l),d(i,a),d(i,c),f||(u=te(e,"click",We($e(t[13]))),f=!0)},p(h,_){_&256&&W(n,"rotate",h[8]),_&1&&o!==(o=h[0].group.frames.length+"")&&q(r,o),_&64&&q(a,h[6]),_&4&&D(e,"padding-left",`${h[2]*35}px`)},d(h){h&&k(e),f=!1,u()}}}function Xe(t){let e,i=[],n=new Map,s,o=me(t[0].children);const r=l=>l[19].uuid;for(let l=0;l<o.length;l+=1){let a=Ke(t,o,l),c=r(a);n.set(c,i[l]=Ze(c,a))}return{c(){e=v("div");for(let l=0;l<i.length;l+=1)i[l].c();g(e,"class","children svelte-1fyhnvv")},m(l,a){O(l,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);s=!0},p(l,a){a&15&&(o=me(l[0].children),he(),i=bt(i,a,r,1,l,o,n,e,wt,Ze,null,Ke),de())},i(l){if(!s){for(let a=0;a<o.length;a+=1)I(i[a]);s=!0}},o(l){for(let a=0;a<i.length;a+=1)L(i[a]);s=!1},d(l){l&&k(e);for(let a=0;a<i.length;a+=1)i[a].d()}}}function Ze(t,e){let i,n,s;return n=new Je({props:{frame:e[19],rootFrame:e[1],indent:e[2]+(e[3]?1:0)}}),{key:t,first:null,c(){i=ut(),re(n.$$.fragment),this.first=i},m(o,r){O(o,i,r),X(n,o,r),s=!0},p(o,r){e=o;const l={};r&1&&(l.frame=e[19]),r&2&&(l.rootFrame=e[1]),r&12&&(l.indent=e[2]+(e[3]?1:0)),n.$set(l)},i(o){s||(I(n.$$.fragment,o),s=!0)},o(o){L(n.$$.fragment,o),s=!1},d(o){o&&k(i),Z(n,o)}}}function Pt(t){let e,i,n,s,o,r,l=t[3]&&Ye(t),a=t[0].group&&t[0].group.rootFrame==t[0]&&!t[9]&&je(t),c=!t[9]&&t[0].children.length>0&&Xe(t);return{c(){e=v("div"),l&&l.c(),i=F(),a&&a.c(),n=F(),c&&c.c(),s=F(),o=v("div"),o.innerHTML="",g(o,"class","visual-guide svelte-1fyhnvv"),D(o,"left",`${t[2]*35+21}px`),D(o,"backgroundColor",t[7]),g(e,"class","frame svelte-1fyhnvv")},m(f,u){O(f,e,u),l&&l.m(e,null),d(e,i),a&&a.m(e,null),d(e,n),c&&c.m(e,null),d(e,s),d(e,o),r=!0},p(f,[u]){f[3]?l?l.p(f,u):(l=Ye(f),l.c(),l.m(e,i)):l&&(l.d(1),l=null),f[0].group&&f[0].group.rootFrame==f[0]&&!f[9]?a?a.p(f,u):(a=je(f),a.c(),a.m(e,n)):a&&(a.d(1),a=null),!f[9]&&f[0].children.length>0?c?(c.p(f,u),u&513&&I(c,1)):(c=Xe(f),c.c(),I(c,1),c.m(e,s)):c&&(he(),L(c,1,1,()=>{c=null}),de()),u&4&&D(o,"left",`${f[2]*35+21}px`),u&128&&D(o,"backgroundColor",f[7])},i(f){r||(I(c),r=!0)},o(f){L(c),r=!1},d(f){f&&k(e),l&&l.d(),a&&a.d(),c&&c.d()}}}function Tt(t,e,i){var $;let n,s,o,r,l;ue(t,qe,p=>i(14,o=p)),ue(t,Ge,p=>i(15,r=p)),ue(t,pe,p=>i(16,l=p));let{frame:a}=e,{rootFrame:c}=e,{indent:f=0}=e,u;const h=a.time/c.time;let _;const E=`${a.filePathShort}:${($=a.lineNo)==null?void 0:$.toString().padEnd(4," ")}`;let m,y=null;if(a.group){const p=a.group.libraries;p.length<4?y=p.join(", "):y=`${p[0]}, ${p[1]}, ${p[2]}...`}let w;h>.6?w="#FF4159":h>.3?w="#F5A623":h>.2?w="#D8CB2A":w="#7ED321";function A(p){S(a,!s,p.altKey)}function S(p,R,P=!0){if(qe.update(N=>({...N,[p.uuid]:R})),P)for(const N of p.children)S(N,R,!0),p.group&&p.group.rootFrame==p&&V(p.group.id,!R)}function V(p,R){Ge.update(P=>({...P,[p]:R}))}function T(){a.group&&V(a.group.id,!n)}return t.$$set=p=>{"frame"in p&&i(0,a=p.frame),"rootFrame"in p&&i(1,c=p.rootFrame),"indent"in p&&i(2,f=p.indent)},t.$$.update=()=>{var p,R;if(t.$$.dirty&32769&&(a.group?r[a.group.id??""]||((p=a.group)==null?void 0:p.rootFrame)===a||a.children.filter(P=>!P.group).length>1?i(3,u=!0):i(3,u=!1):i(3,u=!0)),t.$$.dirty&1&&(a.className?i(4,_=`${a.className}.${a.function}`):i(4,_=a.function)),t.$$.dirty&65537)if(l==="absolute")i(5,m=a.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(l==="proportion")i(5,m=`${(h*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");t.$$.dirty&32769&&i(8,n=r[((R=a.group)==null?void 0:R.id)??""]===!0),t.$$.dirty&16385&&i(9,s=o[a.uuid]===!0)},[a,c,f,u,_,m,y,w,n,s,h,E,A,T,o,r,l]}let Je=class extends oe{constructor(e){super(),se(this,e,Tt,Pt,G,{frame:0,rootFrame:1,indent:2})}};function et(t,e,i){let n=t;for(const s of e)if(n=s.function(n,i),!n)return null;return n}const St="\0",It="[await]",le="[self]",kt=[It,le,"[out-of-context]","[root]"],Dt="c",Mt="h";class ae{constructor(e,i){b(this,"uuid",crypto.randomUUID());b(this,"identifier");b(this,"_identifierParts");b(this,"startTime");b(this,"time",0);b(this,"absorbedTime",0);b(this,"group",null);b(this,"attributes");b(this,"_children",[]);b(this,"parent",null);b(this,"context");var o;this.identifier=e.identifier,this._identifierParts=this.identifier.split(St),this.startTime=e.startTime??0,this.time=e.time??0,this.attributes=e.attributes??{},this.context=i;let n=this.startTime;const s=(o=e.children)==null?void 0:o.map(r=>(r.startTime===void 0&&(r={...r,startTime:n},n+=r.time??0),n=r.startTime+(r.time??0),new ae(r,i)));s&&this.addChildren(s)}cloneDeep(){return new ae(this,this.context)}get children(){return this._children}addChild(e,i={}){if(e.removeFromParent(),e.parent=this,i.after){const n=this._children.indexOf(i.after);if(n==-1)throw new Error("After frame not found");this._children.splice(n+1,0,e)}else this._children.push(e)}addChildren(e,i={}){e=e.slice(),i.after?(e.slice().reverse(),e.forEach(s=>this.addChild(s,i))):e.forEach(n=>this.addChild(n,i))}removeFromParent(){if(this.parent){const e=this.parent._children.indexOf(this);this.parent._children.splice(e,1),this.parent=null}}getAttributes(e){return Object.keys(this.attributes).filter(n=>n.startsWith(e)).map(n=>({data:n.slice(1),time:this.attributes[n]}))}getAttributeValue(e){const i=this.getAttributes(e);if(!i||i.length==0)return null;let n=0;for(let s=0;s<i.length;s++)i[s].time>i[n].time&&(n=s);return i[n].data}get hasTracebackhide(){return this.getAttributeValue(Mt)=="1"}get function(){return this._identifierParts[0]}get filePath(){return this._identifierParts[1]??null}get lineNo(){const e=this._identifierParts[2];return e?parseInt(e):null}get isSynthetic(){return kt.includes(this.identifier)}get filePathShort(){return this.isSynthetic&&this.parent?this.parent.filePathShort:this.filePath?this.context.shortenPath(this.filePath):null}get isApplicationCode(){if(this.isSynthetic)return!1;const e=this.filePath;return!e||["/lib/","\\lib\\"].some(n=>e.includes(n))?!1:e.startsWith("<")?!!e.startsWith("<ipython-input-"):!0}get proportionOfParent(){return this.parent?this.time/this.parent.time:1}get className(){return this.getAttributeValue(Dt)??""}get library(){const e=this.filePathShort;return e?/^[^\\/.]*/.exec(e)[0]:null}}class Ot{constructor(e){b(this,"id");b(this,"rootFrame");b(this,"_frames",[]);this.id=crypto.randomUUID(),this.rootFrame=e}addFrame(e){e.group&&e.group.removeFrame(e),this._frames.push(e),e.group=this}removeFrame(e){if(e.group!==this)throw new Error("Frame not in group.");const i=this._frames.indexOf(e);if(i===-1)throw new Error("Frame not found in group.");this._frames.splice(i,1),e.group=null}get frames(){return this._frames}get exitFrames(){const e=[];for(const i of this.frames){let n=!1;for(const s of i.children)if(s.group!=this){n=!0;break}n&&e.push(i)}return e}get libraries(){const e=[];for(const i of this.frames){const n=i.library;n&&(e.includes(n)||e.push(n))}return e}}class Lt extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Nt(t,e){const i=e*(t.length-1),n=Math.floor(i),s=Math.ceil(i),o=t[n],r=t[s],l=i-n;return Bt(l,{to:[o,r]})}function Vt(t,e,i){return t===1/0?(console.warn("clamp: value is Infinity, returning `max`",t),i):t===-1/0?(console.warn("clamp: value is -Infinity, returning `min`",t),e):Number.isFinite(t)?t<e?e:t>i?i:t:(console.warn("clamp: value isn't finite, returning `min`",t),e)}function Re(t,e){const{from:i=[0,1],to:n=[0,1]}=e,s=e.clamp||!1;let o=(t-i[0])/(i[1]-i[0])*(n[1]-n[0])+n[0];return s&&(o=Vt(o,Math.min(n[0],n[1]),Math.max(n[0],n[1]))),o}function Bt(t,e){return`rgb(
      ${Re(t,{from:e.from,to:[e.to[0][0],e.to[1][0]],clamp:e.clamp})},
      ${Re(t,{from:e.from,to:[e.to[0][1],e.to[1][1]],clamp:e.clamp})},
      ${Re(t,{from:e.from,to:[e.to[0][2],e.to[1][2]],clamp:e.clamp})}
    )`}function zt(t){if(t.substr(0,1)=="#"){var e=(t.length-1)/3,i=[17,1,.062272][e-1];return[Math.round(parseInt(t.substr(1,e),16)*i),Math.round(parseInt(t.substr(1+e,e),16)*i),Math.round(parseInt(t.substr(1+2*e,e),16)*i)]}else return t.split("(")[1].split(")")[0].split(",").map(n=>+n)}function ge(t,e){const{replaceWith:i}=e,n=t.parent;if(!n)throw new Error("Cannot delete the root frame");if(i=="children")n.addChildren(t.children,{after:t});else if(i=="self_time")n.addChild(new ae({identifier:le,time:t.time},n.context),{after:t});else if(i=="nothing")n.absorbedTime+=t.time;else throw new Lt(i);t.removeFromParent(),Pe(t,!0)}function $t(t,e){if(t.parent!==e.parent)throw new Error("Both frames must have the same parent.");e.absorbedTime+=t.absorbedTime,e.time+=t.time,Object.entries(t.attributes).forEach(([i,n])=>{e.attributes[i]!==void 0?e.attributes[i]+=n:e.attributes[i]=n}),e.addChildren(t.children),t.removeFromParent(),Pe(t,!1)}function Pe(t,e){if(e&&t.children&&t.children.forEach(i=>{Pe(i,!0)}),t.group){const i=t.group;i.removeFrame(t),i.frames.length===1&&i.removeFrame(i.frames[0])}}const M=[];function _e(t,e){if(!t)return null;for(const i of t.children)_e(i),i.filePath&&i.filePath.includes("<frozen importlib._bootstrap")&&ge(i,{replaceWith:"children"});return t}M.push({name:"remove_importlib",description:"Removes <frozen importlib._bootstrap frames that clutter the output.",function:_e,optionsSpec:[],category:"normal"});function ve(t,e){if(!t)return null;for(const i of t.children)ve(i),i.hasTracebackhide&&ge(i,{replaceWith:"children"});return t}M.push({name:"remove_tracebackhide",description:"Removes frames that have set a local __tracebackhide__ (e.g. __tracebackhide__ = True), to hide them from the output.",function:ve,optionsSpec:[],category:"advanced"});function Te(t,e){if(!t)return null;const i={};for(const n of t.children.slice())if(i[n.identifier]){const s=i[n.identifier];$t(n,s)}else i[n.identifier]=n;return t.children.forEach(n=>Te(n)),t._children.sort((n,s)=>s.time-n.time),t}M.push({name:"aggregate_repeated_calls",description:"Converts a timeline into a time-aggregate summary. Adds together calls along the same call stack, so that repeated calls appear as the same frame. Removes time-linearity - frames are sorted according to total time spent.",function:Te,optionsSpec:[],category:"normal"});function Se(t,e){if(!t)return null;const i=e.hideRegex,n=e.showRegex;function s(r){const l=r.filePath||"",a=n&&new RegExp(n).test(l),c=i&&new RegExp(i).test(l);return a?!1:c?!0:!r.isApplicationCode}function o(r,l){l.addFrame(r),r.children.forEach(a=>{s(a)&&o(a,l)})}return t.children.forEach(r=>{if(!r.group&&s(r)&&r.children.some(s)){const l=new Ot(r);o(r,l)}Se(r,e)}),t}M.push({name:"Group library frames",description:"Groups frames that should be hidden.",function:Se,optionsSpec:[{key:"hideRegex",name:"Hide regex",value:{type:"string",default:""}},{key:"showRegex",name:"Show regex",value:{type:"string",default:""}}],category:"normal"});function Ie(t,e,i=!0){if(!t)return null;let n=null;for(const s of t.children)s.identifier===le?n?(n.time+=s.time,s.removeFromParent()):n=s:n=null;return i&&t.children.forEach(s=>Ie(s,e,!0)),t}M.push({name:"Merge consecutive self time",description:"Combines consecutive 'self time' frames.",function:Ie,optionsSpec:[],category:"advanced"});function ke(t,e){return t?(t.children.length===1&&t.children[0].identifier===le&&ge(t.children[0],{replaceWith:"nothing"}),t.children.forEach(i=>ke(i)),t):null}M.push({name:"Remove unnecessary self time nodes",description:"Removes unnecessary self-time nodes.",function:ke,optionsSpec:[],category:"advanced"});function De(t,e,i=null){if(!t)return null;i===null&&(i=t.time,i<=0&&(i=1e-44));const n=e.filterThreshold||.01;for(const s of t.children.slice())s.time/i<n&&ge(s,{replaceWith:"nothing"});return t.children.forEach(s=>De(s,e,i)),t}M.push({name:"Remove irrelevant nodes",description:"Removes nodes that represent less than a certain percentage of the output.",function:De,optionsSpec:[{key:"filterThreshold",name:"Filter threshold",value:{type:"number",default:.01,min:0,max:1,sliderMin:1e-4,sliderMax:1}}],category:"normal"});function Me(t,e){if(!t)return null;const i=r=>{var l;return((l=r.filePath)==null?void 0:l.includes("pyinstrument/__main__.py"))&&r.children.length>0},n=r=>{var l;return r.proportionOfParent>.8&&((l=r.filePath)==null?void 0:l.includes("<string>"))&&r.children.length>0},s=r=>{var l;return r.proportionOfParent>.8&&(new RegExp(".*runpy.py").test(r.filePath??"")||((l=r.filePath)==null?void 0:l.includes("<frozen runpy>")))&&r.children.length>0};let o=t;if(!i(o)||(o=o.children[0],!n(o))||(o=o.children[0],!s(o)))return t;for(;s(o);)o=o.children[0];return o.removeFromParent(),o}M.push({name:"Remove first pyinstrument frames",description:"Removes the initial frames specific to the command line use of pyinstrument.",function:Me,optionsSpec:[],category:"advanced"});function tt(t,e,i){const n=t.slice();return n[7]=e[i],n[8]=e,n[9]=i,n}function it(t){let e,i,n,s=t[7].name+"",o,r,l,a;function c(){t[5].call(i,t[7])}return{c(){e=v("label"),i=v("input"),n=F(),o=B(s),r=F(),g(i,"type","checkbox")},m(f,u){O(f,e,u),d(e,i),i.checked=t[0][t[7].name],d(e,n),d(e,o),d(e,r),l||(a=te(i,"change",c),l=!0)},p(f,u){t=f,u&1&&(i.checked=t[0][t[7].name])},d(f){f&&k(e),l=!1,a()}}}function Wt(t){let e,i;return e=new Je({props:{frame:t[1],rootFrame:t[1]}}),{c(){re(e.$$.fragment)},m(n,s){X(e,n,s),i=!0},p(n,s){const o={};s&2&&(o.frame=n[1]),s&2&&(o.rootFrame=n[1]),e.$set(o)},i(n){i||(I(e.$$.fragment,n),i=!0)},o(n){L(e.$$.fragment,n),i=!1},d(n){Z(e,n)}}}function Ut(t){let e;return{c(){e=v("div"),e.textContent="All frames were filtered out.",g(e,"class","error")},m(i,n){O(i,e,n)},p:C,i:C,o:C,d(i){i&&k(e)}}}function Ht(t){let e,i,n,s,o,r,l,a,c,f=me(M),u=[];for(let m=0;m<f.length;m+=1)u[m]=it(tt(t,f,m));const h=[Ut,Wt],_=[];function E(m,y){return m[1]?1:0}return l=E(t),a=_[l]=h[l](t),{c(){e=v("div"),i=v("div"),n=v("h2"),n.textContent="Options",s=F(),o=v("div");for(let m=0;m<u.length;m+=1)u[m].c();r=F(),a.c(),g(o,"class","processor-options"),g(i,"class","options"),g(e,"class","tree-view")},m(m,y){O(m,e,y),d(e,i),d(i,n),d(i,s),d(i,o);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(o,null);d(e,r),_[l].m(e,null),c=!0},p(m,[y]){if(y&1){f=me(M);let A;for(A=0;A<f.length;A+=1){const S=tt(m,f,A);u[A]?u[A].p(S,y):(u[A]=it(S),u[A].c(),u[A].m(o,null))}for(;A<u.length;A+=1)u[A].d(1);u.length=f.length}let w=l;l=E(m),l===w?_[l].p(m,y):(he(),L(_[w],1,1,()=>{_[w]=null}),de(),a=_[l],a?a.p(m,y):(a=_[l]=h[l](m),a.c()),I(a,1),a.m(e,null))},i(m){c||(I(a),c=!0)},o(m){L(a),c=!1},d(m){m&&k(e),ct(u,m),_[l].d()}}}function Qt(t,e,i){let{session:n}=e;const s=[_e,ve,Ie,Te,ke,De,Me,Se];let o,r={},l={};for(const f of M){r[f.name]=s.includes(f.function);for(const u of f.optionsSpec)l[u.name]=u.value.default}let a;function c(f){r[f.name]=this.checked,i(0,r)}return t.$$set=f=>{"session"in f&&i(2,n=f.session)},t.$$.update=()=>{t.$$.dirty&1&&i(3,o=s.map(f=>M.find(u=>u.function==f)).filter(f=>r[f.name])),t.$$.dirty&28&&i(1,a=et(n.rootFrame.cloneDeep(),o,l))},[r,a,n,o,l,c]}class xt extends oe{constructor(e){super(),se(this,e,Qt,Ht,G,{session:2})}}class Gt{constructor(e){b(this,"mediaQueryList",null);this.onDevicePixelRatioChanged=e,this._onChange=this._onChange.bind(this),this.createMediaQueryList()}createMediaQueryList(){this.removeMediaQueryList();let e=`(resolution: ${window.devicePixelRatio}dppx)`;this.mediaQueryList=matchMedia(e),this.mediaQueryList.addEventListener("change",this._onChange)}removeMediaQueryList(){var e;(e=this.mediaQueryList)==null||e.removeEventListener("change",this._onChange),this.mediaQueryList=null}_onChange(e){this.onDevicePixelRatioChanged(),this.createMediaQueryList()}destroy(){this.removeMediaQueryList()}}class qt{constructor(e){b(this,"canvas");b(this,"_size_observer");b(this,"_devicePixelRatioObserver");b(this,"drawAnimationRequest",null);this.container=e,getComputedStyle(e).position!="absolute"&&(e.style.position="relative"),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0",this.canvas.style.top="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.container.appendChild(this.canvas),this.setCanvasSize=this.setCanvasSize.bind(this),this._size_observer=new ResizeObserver(this.setCanvasSize),this._size_observer.observe(e),this._devicePixelRatioObserver=new Gt(this.setCanvasSize),window.requestAnimationFrame(()=>{this.setCanvasSize()})}destroy(){this._size_observer.disconnect(),this._devicePixelRatioObserver.destroy(),this.canvas.remove(),this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null)}setNeedsRedraw(){this.drawAnimationRequest===null&&(this.drawAnimationRequest=window.requestAnimationFrame(()=>{this.drawAnimationRequest=null,this.canvasViewRedraw()}))}redrawIfNeeded(){this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null,this.canvasViewRedraw())}canvasViewRedraw(){const e=this.canvas.getContext("2d");e&&(e.resetTransform(),e.scale(window.devicePixelRatio,window.devicePixelRatio),this.redraw(e,{width:this.canvas.width/window.devicePixelRatio,height:this.canvas.height/window.devicePixelRatio}))}get width(){return this.canvas.width/window.devicePixelRatio}get height(){return this.canvas.height/window.devicePixelRatio}setCanvasSize(){const e=window.devicePixelRatio;this.canvas.height=this.container.clientHeight*e,this.canvas.width=this.container.clientWidth*e,this.canvasViewRedraw()}}const Kt="#212325",Yt=18,jt=17,Xt=["#47A298","#9FC175","#C1A731","#C07210","#B84210","#B53134","#9A3586","#4958B5","#3475BA","#318DBC","#47A298"].map(zt);class Zt extends qt{constructor(i){super(i);b(this,"zoom",1);b(this,"startT",0);b(this,"frames",[]);b(this,"isZoomedIn",!1);b(this,"lastDrawWidth",0);b(this,"lastDrawHeight",0);b(this,"mouseLocation",null);b(this,"_libraryOrder",null);b(this,"_colors",[]);this.onWheel=this.onWheel.bind(this),this.canvas.addEventListener("wheel",this.onWheel)}destroy(){super.destroy(),this.canvas.removeEventListener("wheel",this.onWheel)}setRootFrame(i){this.frames=[],this._collectFrames(i,0),this.fitContents()}_collectFrames(i,n){this.frames.push({frame:i,depth:n});for(const s of i.children)s.identifier!==le&&this._collectFrames(s,n+1)}get frameMaxT(){return this.frames.reduce((i,n)=>Math.max(i,n.frame.startTime+n.frame.time),0)}get minZoom(){return this.width/this.frameMaxT}fitContents(){this.startT=0,this.zoom=this.minZoom,this.isZoomedIn=!1}clampViewport(){this.zoom<this.minZoom?(this.zoom=this.minZoom,this.isZoomedIn=!1):this.isZoomedIn=!0,this.startT<0&&(this.startT=0);const i=this.frameMaxT-this.width/this.zoom;this.startT>i&&(this.startT=i)}redraw(i,n){const{width:s,height:o}=n;(s!==this.lastDrawWidth||o!==this.lastDrawHeight)&&(this.isZoomedIn?this.clampViewport():this.fitContents()),this.lastDrawWidth=s,this.lastDrawHeight=o,i.fillStyle=Kt,i.fillRect(0,0,s,o);for(const r of this.frames)this.drawFrame(i,r);i.globalAlpha=1,i.fillStyle="red",i.fillText(`startT: ${this.startT}`,10,10),i.fillText(`zoom: ${this.zoom}`,10,20)}drawFrame(i,n){const s=n.depth*Yt,o=jt;let r=this.xForT(n.frame.startTime);const l=this.xForT(n.frame.startTime+n.frame.time);let a=l-r;if(!(l<0||r>this.width)){if(a<1&&(a=1),a>2&&(a-=1),i.fillStyle=this.colorForFrame(n),i.globalAlpha=n.frame.isApplicationCode?1:.5,a<2){i.fillRect(r,s,a,o);return}if(i.save(),i.beginPath(),i.rect(r,s,a,o),i.fill(),i.clip(),a>2){i.font='13px "Source Sans Pro", sans-serif',i.fillStyle="white";let c;n.frame.className?c=`${n.frame.className}.${n.frame.function}`:n.frame.function=="<module>"?c=n.frame.filePathShort??n.frame.filePath??"":c=n.frame.function,r<0&&(r=0),i.fillText(c,r+2,s+13)}i.restore()}}xForT(i){return(i-this.startT)*this.zoom}onWheel(i){if(i.ctrlKey||i.metaKey){const n=this.startT+i.offsetX/this.zoom;this.zoom*=1-i.deltaY/100,this.startT=n-i.offsetX/this.zoom,this.clampViewport(),this.setNeedsRedraw(),i.preventDefault();return}this.startT+=i.deltaX/this.zoom,this.clampViewport(),this.setNeedsRedraw(),i.preventDefault()}onMouseMove(i){this.mouseLocation={x:i.offsetX,y:i.offsetY},this.setNeedsRedraw()}onMouseLeave(i){this.mouseLocation=null,this.setNeedsRedraw()}_assignLibraryOrder(){const i={};for(const s of this.frames){const r=s.frame.library??"";i[r]=(i[r]||0)+1}const n=Object.keys(i);n.sort((s,o)=>i[o]-i[s]),this._libraryOrder=n}colorForLibraryIndex(i){if(this._colors[i]!==void 0)return this._colors[i];const n=Math.pow(2,Math.ceil(Math.log2(i+1))),o=(2*i-n+1)/n,r=Nt(Xt,o);return this._colors[i]=r,r}colorForFrame(i){var o;this._libraryOrder||this._assignLibraryOrder();let n=((o=this._libraryOrder)==null?void 0:o.indexOf(i.frame.library||""))??0;return n===-1&&(n=0),this.colorForLibraryIndex(n)}}function Jt(t){let e;return{c(){e=v("div"),e.innerHTML="",g(e,"class","timeline svelte-lmsdxq")},m(i,n){O(i,e,n),t[7](e)},p:C,i:C,o:C,d(i){i&&k(e),t[7](null)}}}function ei(t,e,i){let{session:n}=e;const s=[_e,ve,Me];let o,r={},l={};for(const h of M){r[h.name]=s.includes(h.function);for(const _ of h.optionsSpec)l[_.name]=_.value.default}let a,c=null,f=null;function u(h){ye[h?"unshift":"push"](()=>{c=h,i(0,c)})}return t.$$set=h=>{"session"in h&&i(1,n=h.session)},t.$$.update=()=>{t.$$.dirty&8&&i(2,o=s.map(h=>M.find(_=>_.function==h)).filter(h=>r[h.name])),t.$$.dirty&22&&i(5,a=et(n.rootFrame.cloneDeep(),o,l)),t.$$.dirty&1&&c&&i(6,f=new Zt(c)),t.$$.dirty&96&&a&&f&&f.setRootFrame(a)},[c,n,o,r,l,a,f,u]}class ti extends oe{constructor(e){super(),se(this,e,ei,Jt,G,{session:1})}}function ii(t){let e,i,n,s;return e=new xt({props:{session:t[0]}}),n=new ti({props:{session:t[0]}}),{c(){re(e.$$.fragment),i=F(),re(n.$$.fragment)},m(o,r){X(e,o,r),O(o,i,r),X(n,o,r),s=!0},p(o,r){const l={};r&1&&(l.session=o[0]),e.$set(l);const a={};r&1&&(a.session=o[0]),n.$set(a)},i(o){s||(I(e.$$.fragment,o),I(n.$$.fragment,o),s=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),s=!1},d(o){o&&k(i),Z(e,o),Z(n,o)}}}function ni(t){let e;return{c(){e=v("div"),e.textContent="No samples recorded.",g(e,"class","error")},m(i,n){O(i,e,n)},p:C,i:C,o:C,d(i){i&&k(e)}}}function ri(t){let e,i,n,s,o,r,l,a,c,f,u,h,_;i=new Ct({props:{session:t[0]}});const E=[ni,ii],m=[];function y(w,A){return w[0].rootFrame?1:0}return u=y(t),h=m[u]=E[u](t),{c(){e=v("div"),re(i.$$.fragment),n=F(),s=v("div"),o=F(),r=v("div"),l=v("div"),a=v("span"),a.textContent="Program: ",c=B(t[1]),f=F(),h.c(),g(s,"class","spacer"),D(s,"height","20px"),g(a,"class","label svelte-1gm5pcf"),g(l,"class","program svelte-1gm5pcf"),g(r,"class","margins"),g(e,"class","app svelte-1gm5pcf")},m(w,A){O(w,e,A),X(i,e,null),d(e,n),d(e,s),d(e,o),d(e,r),d(r,l),d(l,a),d(l,c),d(r,f),m[u].m(r,null),_=!0},p(w,[A]){const S={};A&1&&(S.session=w[0]),i.$set(S),(!_||A&2)&&q(c,w[1]);let V=u;u=y(w),u===V?m[u].p(w,A):(he(),L(m[V],1,1,()=>{m[V]=null}),de(),h=m[u],h?h.p(w,A):(h=m[u]=E[u](w),h.c()),I(h,1),h.m(r,null))},i(w){_||(I(i.$$.fragment,w),I(h),_=!0)},o(w){L(i.$$.fragment,w),L(h),_=!1},d(w){w&&k(e),Z(i),m[u].d()}}}function Oe(){document.body.style.minHeight=`${window.scrollY+window.innerHeight}px`}function si(t,e,i){let{session:n}=e;const s=document.createElement("link");s.rel="shortut icon",s.href=Rt,document.head.appendChild(s),dt(()=>{window.addEventListener("scroll",Oe),Oe()}),mt(()=>{window.removeEventListener("scroll",Oe)});const o=n.rootFrame,r=o==null?void 0:o.time.toLocaleString(void 0,{maximumSignificantDigits:3});let l=o==null?void 0:o.function;return l=="<module>"&&(l=n.program),document.title=`${r}s - ${l} - pyinstrument`,t.$$set=a=>{"session"in a&&i(0,n=a.session)},[n,l]}class oi extends oe{constructor(e){super(),se(this,e,si,ri,G,{session:0})}}class li{constructor(e){b(this,"startTime");b(this,"duration");b(this,"sampleCount");b(this,"program");b(this,"cpuTime");b(this,"rootFrame");b(this,"sysPath");b(this,"_shortenPathCache",{});this.startTime=e.session.start_time,this.duration=e.session.duration,this.sampleCount=e.session.sample_count,this.program=e.session.program,this.cpuTime=e.session.cpu_time,this.sysPath=e.session.sys_path,this.rootFrame=new ae(e.frame_tree,this)}shortenPath(e){if(this._shortenPathCache[e])return this._shortenPathCache[e];let i=e;if(ee(e).length>1)for(const s of this.sysPath){const o=ai(e,s);ee(o).length<ee(i).length&&(i=o)}return this._shortenPathCache[e]=i,i}}function ee(t){return t.split(/[/\\]/)}function nt(t){const e=ee(t);return e.length>0&&e[0].endsWith(":")?e[0]:null}function ai(t,e){if(nt(t)!=nt(e))return t;const i=ee(t),n=ee(e);let s=0;for(;s<i.length&&s<n.length&&i[s]==n[s];)s++;return n.slice(s).map(r=>"..").concat(i.slice(s)).join("/")}return{render(t,e){const i=new li(e);return new oi({target:t,props:{session:i}})}}}();
