var pyinstrumentHTMLRenderer=function(){"use strict";var Sn=Object.defineProperty;var Vn=(F,ue,Me)=>ue in F?Sn(F,ue,{enumerable:!0,configurable:!0,writable:!0,value:Me}):F[ue]=Me;var C=(F,ue,Me)=>Vn(F,typeof ue!="symbol"?ue+"":ue,Me);function F(){}function ue(t){return t()}function Me(){return Object.create(null)}function de(t){t.forEach(ue)}function ft(t){return typeof t=="function"}function re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function di(t){return Object.keys(t).length===0}function Pt(t,...e){if(t==null){for(const n of e)n(void 0);return F}const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function fe(t,e,i){t.$$.on_destroy.push(Pt(e,i))}function fi(t,e,i){return t.set(i),e}function o(t,e){t.appendChild(e)}function G(t,e,i){t.insertBefore(e,i||null)}function U(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function L(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function w(){return T(" ")}function hi(){return T("")}function B(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function ht(t){return function(e){return e.preventDefault(),t.call(this,e)}}function pt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function r(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function mt(t){let e;return{p(...i){e=i,e.forEach(n=>t.push(n))},r(){e.forEach(i=>t.splice(t.indexOf(i),1))}}}function pi(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function K(t,e,i,n){i==null?t.style.removeProperty(e):t.style.setProperty(e,i,"")}function Te(t,e,i){t.classList.toggle(e,!!i)}function mi(t,e,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:i,cancelable:n})}let Qe;function qe(t){Qe=t}function It(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function Mt(t){It().$$.on_mount.push(t)}function vi(){const t=It();return(e,i,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=mi(e,i,{cancelable:n});return s.slice().forEach(l=>{l.call(t,a)}),!a.defaultPrevented}return!0}}const Ve=[],He=[];let $e=[];const Rt=[],gi=Promise.resolve();let vt=!1;function _i(){vt||(vt=!0,gi.then(St))}function gt(t){$e.push(t)}const _t=new Set;let De=0;function St(){if(De!==0)return;const t=Qe;do{try{for(;De<Ve.length;){const e=Ve[De];De++,qe(e),bi(e.$$)}}catch(e){throw Ve.length=0,De=0,e}for(qe(null),Ve.length=0,De=0;He.length;)He.pop()();for(let e=0;e<$e.length;e+=1){const i=$e[e];_t.has(i)||(_t.add(i),i())}$e.length=0}while(Ve.length);for(;Rt.length;)Rt.pop()();vt=!1,_t.clear(),qe(t)}function bi(t){if(t.fragment!==null){t.update(),de(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(gt)}}function wi(t){const e=[],i=[];$e.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),$e=e}const it=new Set;let Re;function Oe(){Re={r:0,c:[],p:Re}}function Le(){Re.r||de(Re.c),Re=Re.p}function V(t,e){t&&t.i&&(it.delete(t),t.i(e))}function D(t,e,i,n){if(t&&t.o){if(it.has(t))return;it.add(t),Re.c.push(()=>{it.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function Vt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function yi(t,e){D(t,1,1,()=>{e.delete(t.key)})}function Ai(t,e,i,n,s,a,l,c,u,d,f,m){let h=t.length,v=a.length,_=h;const b={};for(;_--;)b[t[_].key]=_;const A=[],M=new Map,R=new Map,P=[];for(_=v;_--;){const g=m(s,a,_),E=i(g);let y=l.get(E);y?P.push(()=>y.p(g,e)):(y=d(E,g),y.c()),M.set(E,A[_]=y),E in b&&R.set(E,Math.abs(_-b[E]))}const H=new Set,z=new Set;function k(g){V(g,1),g.m(c,f),l.set(g.key,g),f=g.first,v--}for(;h&&v;){const g=A[v-1],E=t[h-1],y=g.key,I=E.key;g===E?(f=g.first,h--,v--):M.has(I)?!l.has(y)||H.has(y)?k(g):z.has(I)?h--:R.get(y)>R.get(I)?(z.add(y),k(g)):(H.add(I),h--):(u(E,l),h--)}for(;h--;){const g=t[h];M.has(g.key)||u(g,l)}for(;v;)k(A[v-1]);return de(P),A}function he(t){t&&t.c()}function le(t,e,i){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,i),gt(()=>{const a=t.$$.on_mount.map(ue).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...a):de(a),t.$$.on_mount=[]}),s.forEach(gt)}function oe(t,e){const i=t.$$;i.fragment!==null&&(wi(i.after_update),de(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Ci(t,e){t.$$.dirty[0]===-1&&(Ve.push(t),_i(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,i,n,s,a,l=null,c=[-1]){const u=Qe;qe(t);const d=t.$$={fragment:null,ctx:[],props:a,update:F,not_equal:s,bound:Me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Me(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};l&&l(d.root);let f=!1;if(d.ctx=i?i(t,e.props||{},(m,h,...v)=>{const _=v.length?v[0]:h;return d.ctx&&s(d.ctx[m],d.ctx[m]=_)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](_),f&&Ci(t,m)),h}):[],d.update(),f=!0,de(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const m=pi(e.target);d.fragment&&d.fragment.l(m),m.forEach(U)}else d.fragment&&d.fragment.c();e.intro&&V(t.$$.fragment),le(t,e.target,e.anchor),St()}qe(u)}class me{constructor(){C(this,"$$");C(this,"$$set")}$destroy(){oe(this,1),this.$destroy=F}$on(e,i){if(!ft(i))return F;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const s=n.indexOf(i);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!di(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ki="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ki);function Fi(t){let e,i;return{c(){e=L("svg"),i=L("path"),r(i,"fill-rule","evenodd"),r(i,"clip-rule","evenodd"),r(i,"d","M5.11634 0.889422C4.86506 -0.296474 3.17237 -0.296474 2.92109 0.889422C2.78291 1.54158 2.10994 1.93011 1.47607 1.72371C0.323418 1.34837 -0.522932 2.81429 0.378448 3.62484C0.87414 4.07059 0.87414 4.84767 0.378448 5.29341C-0.522931 6.10397 0.323418 7.56989 1.47607 7.19455C2.10994 6.98814 2.78291 7.37668 2.92109 8.02883C3.17237 9.21473 4.86506 9.21473 5.11634 8.02883C5.25452 7.37668 5.92749 6.98814 6.56136 7.19455C7.71401 7.56989 8.56036 6.10397 7.65898 5.29341C7.16329 4.84767 7.16329 4.07059 7.65898 3.62484C8.56036 2.81429 7.71401 1.34837 6.56136 1.72371C5.92749 1.93011 5.25452 1.54158 5.11634 0.889422ZM4.01883 6.33408C5.05436 6.33408 5.89383 5.49462 5.89383 4.45908C5.89383 3.42355 5.05436 2.58408 4.01883 2.58408C2.98329 2.58408 2.14383 3.42355 2.14383 4.45908C2.14383 5.49462 2.98329 6.33408 4.01883 6.33408Z"),r(i,"fill","currentColor"),r(e,"width","9"),r(e,"height","9"),r(e,"viewBox","0 0 9 9"),r(e,"fill","none"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(n,s){G(n,e,s),o(e,i)},p:F,i:F,o:F,d(n){n&&U(e)}}}class Ei extends me{constructor(e){super(),pe(this,e,null,Fi,re,{})}}function Ti(t){let e,i,n,s,a,l,c,u,d,f,m,h,v,_,b,A,M;return{c(){e=L("svg"),i=L("g"),n=L("path"),s=L("path"),a=L("defs"),l=L("filter"),c=L("feFlood"),u=L("feBlend"),d=L("feGaussianBlur"),f=L("linearGradient"),m=L("stop"),h=L("stop"),v=L("stop"),_=L("linearGradient"),b=L("stop"),A=L("stop"),M=L("stop"),r(n,"fill-rule","evenodd"),r(n,"clip-rule","evenodd"),r(n,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),r(n,"fill","url(#paint0_linear_67_262)"),r(i,"opacity","0.5"),r(i,"filter","url(#filter0_f_67_262)"),r(s,"fill-rule","evenodd"),r(s,"clip-rule","evenodd"),r(s,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),r(s,"fill","url(#paint1_linear_67_262)"),r(c,"flood-opacity","0"),r(c,"result","BackgroundImageFix"),r(u,"mode","normal"),r(u,"in","SourceGraphic"),r(u,"in2","BackgroundImageFix"),r(u,"result","shape"),r(d,"stdDeviation","3.39785"),r(d,"result","effect1_foregroundBlur_67_262"),r(l,"id","filter0_f_67_262"),r(l,"x","3.2043"),r(l,"y","2.2043"),r(l,"width","36.0914"),r(l,"height","41.0914"),r(l,"filterUnits","userSpaceOnUse"),r(l,"color-interpolation-filters","sRGB"),r(m,"stop-color","#FFAA00"),r(h,"offset","0.514478"),r(h,"stop-color","#FFEB00"),r(v,"offset","1"),r(v,"stop-color","#98FF05"),r(f,"id","paint0_linear_67_262"),r(f,"x1","7.3769"),r(f,"y1","18.4566"),r(f,"x2","20.6583"),r(f,"y2","33.1038"),r(f,"gradientUnits","userSpaceOnUse"),r(b,"stop-color","#FFC834"),r(A,"offset","0.514478"),r(A,"stop-color","#FAF534"),r(M,"offset","1"),r(M,"stop-color","#B8FF38"),r(_,"id","paint1_linear_67_262"),r(_,"x1","7.3769"),r(_,"y1","18.4566"),r(_,"x2","20.6583"),r(_,"y2","33.1038"),r(_,"gradientUnits","userSpaceOnUse"),r(e,"width","44"),r(e,"height","44"),r(e,"viewBox","0 0 44 44"),r(e,"fill","none"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(R,P){G(R,e,P),o(e,i),o(i,n),o(e,s),o(e,a),o(a,l),o(l,c),o(l,u),o(l,d),o(a,f),o(f,m),o(f,h),o(f,v),o(a,_),o(_,b),o(_,A),o(_,M)},p:F,i:F,o:F,d(R){R&&U(e)}}}class Pi extends me{constructor(e){super(),pe(this,e,null,Ti,re,{})}}const Be=[];function Ii(t,e){return{subscribe:nt(t,e).subscribe}}function nt(t,e=F){let i;const n=new Set;function s(c){if(re(t,c)&&(t=c,i)){const u=!Be.length;for(const d of n)d[1](),Be.push(d,t);if(u){for(let d=0;d<Be.length;d+=2)Be[d][0](Be[d+1]);Be.length=0}}}function a(c){s(c(t))}function l(c,u=F){const d=[c,u];return n.add(d),n.size===1&&(i=e(s,a)||F),c(t),()=>{n.delete(d),n.size===0&&i&&(i(),i=null)}}return{set:s,update:a,subscribe:l}}function Ht(t,e,i){const n=!Array.isArray(t),s=n?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return Ii(i,(l,c)=>{let u=!1;const d=[];let f=0,m=F;const h=()=>{if(f)return;m();const _=e(n?d[0]:d,l,c);a?l(_):m=ft(_)?_:F},v=s.map((_,b)=>Pt(_,A=>{d[b]=A,f&=~(1<<b),u&&h()},()=>{f|=1<<b}));return u=!0,h(),function(){de(v),m(),u=!1}})}var bt={local:{},session:{}};function Mi(t){return t==="local"?localStorage:sessionStorage}function wt(t,e,i){var n,s,a,l,c,u,d,f;i!=null&&i.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const m=(n=i==null?void 0:i.serializer)!=null?n:JSON,h=(s=i==null?void 0:i.storage)!=null?s:"local",v=(a=i==null?void 0:i.syncTabs)!=null?a:!0,_=(c=(l=i==null?void 0:i.onWriteError)!=null?l:i==null?void 0:i.onError)!=null?c:k=>console.error(`Error when writing value from persisted store "${t}" to ${h}`,k),b=(u=i==null?void 0:i.onParseError)!=null?u:(k,g)=>console.error(`Error when parsing ${k?'"'+k+'"':"value"} from persisted store "${t}"`,g),A=(d=i==null?void 0:i.beforeRead)!=null?d:k=>k,M=(f=i==null?void 0:i.beforeWrite)!=null?f:k=>k,R=typeof window<"u"&&typeof document<"u",P=R?Mi(h):null;function H(k,g){const E=M(g);try{P==null||P.setItem(k,m.stringify(E))}catch(y){_(y)}}function z(){function k(I){try{return m.parse(I)}catch(W){b(I,W)}}const g=P==null?void 0:P.getItem(t);if(g==null)return e;const E=k(g);return E==null?e:A(E)}if(!bt[h][t]){const k=z(),g=nt(k,I=>{if(R&&h=="local"&&v){const W=Y=>{if(Y.key===t&&Y.newValue){let N;try{N=m.parse(Y.newValue)}catch(Se){b(Y.newValue,Se);return}const be=A(N);I(be)}};return window.addEventListener("storage",W),()=>window.removeEventListener("storage",W)}}),{subscribe:E,set:y}=g;bt[h][t]={set(I){y(I),H(t,I)},update(I){return g.update(W=>{const Y=I(W);return H(t,Y),Y})},reset(){this.set(e)},subscribe:E}}return bt[h][t]}function $t(){return{collapseMode:"non-application",collapseCustomHide:"",collapseCustomShow:"",removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:.001,timeFormat:"absolute"}}const Z=wt("pyinstrument:viewOptionsCallStack",$t(),{syncTabs:!0,beforeRead(t){return{...$t(),...t}}}),Ke=wt("pyinstrument:viewOptions",{viewMode:"call-stack"},{syncTabs:!1}),Ze=wt("pyinstrument:viewOptionsTimeline",{removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:1e-4},{syncTabs:!0});function Ri(t){let e,i,n,s,a,l,c,u,d,f,m,h,v,_,b,A,M,R,P,H,z,k,g,E,y,I,W,Y,N,be,Se,X,O,Je,ve,Q,xe,we,ge,q,J,ye,x,et,ne,Ae,Ce,ke,ae,Fe,Pe,ze,tt,$,S,ce,st,xt,ei,We,Ie,ti,Ue,lt,ii,ni,_e,ri,si,Ge,ot,li,je,at,ct,ee,oi,ai,ut,dt,te,ci,Ft,Et,Tt,ui;return Ft=mt(t[5][0]),Et=mt(t[5][1]),{c(){e=p("div"),i=p("div"),n=p("div"),n.textContent="Collapse frames",s=w(),a=p("div"),l=p("div"),c=p("input"),u=w(),d=p("label"),f=T("Non-application code"),m=w(),h=p("div"),h.textContent=`Application code is anything run from outside the Python home
          directory.`,v=w(),_=p("div"),b=p("input"),A=w(),M=p("label"),R=T("Custom"),P=w(),H=p("div"),z=T(`Regex on the source file path.
          `),k=p("div"),g=p("label"),g.textContent="Show",E=w(),y=p("input"),I=w(),W=p("label"),W.textContent="Hide",Y=w(),N=p("input"),be=T(`
          If neither match, non-application rule is used.`),Se=w(),X=p("div"),O=p("input"),Je=w(),ve=p("label"),Q=T("Disabled"),xe=w(),we=p("div"),ge=p("div"),ge.textContent="Remove frames",q=w(),J=p("div"),ye=p("div"),x=p("input"),et=w(),ne=p("label"),Ae=T("importlib machinery"),Ce=w(),ke=p("div"),ae=p("input"),Fe=w(),Pe=p("label"),ze=T("Frames declaring __traceback_hide__"),tt=w(),$=p("div"),S=p("input"),ce=w(),st=p("label"),xt=T("pyinstrument frames"),ei=w(),We=p("div"),Ie=p("input"),ti=w(),Ue=p("span"),lt=p("label"),ii=T("Frames with durations less than"),ni=w(),_e=p("input"),ri=T(`
          % of the total time`),si=w(),Ge=p("div"),ot=p("div"),ot.textContent="Time format",li=w(),je=p("div"),at=p("div"),ct=p("label"),ee=p("input"),oi=T(`
          Absolute time in seconds`),ai=w(),ut=p("div"),dt=p("label"),te=p("input"),ci=T(`
          Percentage of the total run time`),r(n,"class","name svelte-1pecl4m"),r(c,"id",t[1]+"collapseModeAll"),r(c,"type","radio"),c.__value="non-application",se(c,c.__value),r(c,"class","svelte-1pecl4m"),r(d,"for",t[1]+"collapseModeAll"),r(h,"class","description svelte-1pecl4m"),r(l,"class","option svelte-1pecl4m"),r(b,"id",t[1]+"collapseModeCustom"),r(b,"type","radio"),b.__value="custom",se(b,b.__value),r(b,"class","svelte-1pecl4m"),r(M,"for",t[1]+"collapseModeCustom"),r(g,"for","collapseCustomShow"),r(g,"class","svelte-1pecl4m"),r(y,"id","collapseCustomShow"),r(y,"type","text"),r(y,"placeholder","myproject"),r(y,"spellcheck","false"),r(y,"autocapitalize","off"),r(y,"autocomplete","off"),r(y,"autocorrect","off"),r(y,"class","svelte-1pecl4m"),r(W,"for","collapseCustomHide"),r(W,"class","svelte-1pecl4m"),r(N,"id","collapseCustomHide"),r(N,"type","text"),r(N,"placeholder",".*/lib/.*"),r(N,"spellcheck","false"),r(N,"autocapitalize","off"),r(N,"autocomplete","off"),r(N,"autocorrect","off"),r(N,"class","svelte-1pecl4m"),r(k,"class","mini-input-grid svelte-1pecl4m"),r(H,"class","description svelte-1pecl4m"),r(_,"class","option svelte-1pecl4m"),r(O,"id",t[1]+"collapseModeDisabled"),r(O,"type","radio"),O.__value="disabled",se(O,O.__value),r(O,"class","svelte-1pecl4m"),r(ve,"for",t[1]+"collapseModeDisabled"),r(X,"class","option svelte-1pecl4m"),r(a,"class","body"),r(i,"class","option-group svelte-1pecl4m"),r(ge,"class","name svelte-1pecl4m"),r(x,"id",t[1]+"removeImportlib"),r(x,"type","checkbox"),r(x,"class","svelte-1pecl4m"),r(ne,"for",t[1]+"removeImportlib"),r(ye,"class","option svelte-1pecl4m"),r(ae,"id",t[1]+"removeTracebackHide"),r(ae,"type","checkbox"),r(ae,"class","svelte-1pecl4m"),r(Pe,"for",t[1]+"removeTracebackHide"),r(ke,"class","option svelte-1pecl4m"),r(S,"id",t[1]+"removePyinstrument"),r(S,"type","checkbox"),r(S,"class","svelte-1pecl4m"),r(st,"for",t[1]+"removePyinstrument"),r($,"class","option svelte-1pecl4m"),r(Ie,"id",t[1]+"removeIrrelevant"),r(Ie,"type","checkbox"),r(Ie,"class","svelte-1pecl4m"),r(lt,"for",t[1]+"removeIrrelevant"),r(_e,"type","number"),_e.value=t[2](),r(_e,"min","0"),r(_e,"max","99"),r(_e,"step","0.01"),K(_e,"width","4em"),r(_e,"class","svelte-1pecl4m"),r(We,"class","option svelte-1pecl4m"),r(J,"class","body"),r(we,"class","option-group svelte-1pecl4m"),r(ot,"class","name svelte-1pecl4m"),r(ee,"type","radio"),ee.__value="absolute",se(ee,ee.__value),r(ee,"class","svelte-1pecl4m"),r(at,"class","option svelte-1pecl4m"),r(te,"type","radio"),te.__value="proportion",se(te,te.__value),r(te,"class","svelte-1pecl4m"),r(ut,"class","option svelte-1pecl4m"),r(je,"class","body"),r(Ge,"class","option-group svelte-1pecl4m"),r(e,"class","view-options-call-stack svelte-1pecl4m"),Ft.p(ee,te),Et.p(c,b,O)},m(j,ie){G(j,e,ie),o(e,i),o(i,n),o(i,s),o(i,a),o(a,l),o(l,c),c.checked=c.__value===t[0].collapseMode,o(l,u),o(l,d),o(d,f),o(l,m),o(l,h),o(a,v),o(a,_),o(_,b),b.checked=b.__value===t[0].collapseMode,o(_,A),o(_,M),o(M,R),o(_,P),o(_,H),o(H,z),o(H,k),o(k,g),o(k,E),o(k,y),se(y,t[0].collapseCustomShow),o(k,I),o(k,W),o(k,Y),o(k,N),se(N,t[0].collapseCustomHide),o(H,be),o(a,Se),o(a,X),o(X,O),O.checked=O.__value===t[0].collapseMode,o(X,Je),o(X,ve),o(ve,Q),o(e,xe),o(e,we),o(we,ge),o(we,q),o(we,J),o(J,ye),o(ye,x),x.checked=t[0].removeImportlib,o(ye,et),o(ye,ne),o(ne,Ae),o(J,Ce),o(J,ke),o(ke,ae),ae.checked=t[0].removeTracebackHide,o(ke,Fe),o(ke,Pe),o(Pe,ze),o(J,tt),o(J,$),o($,S),S.checked=t[0].removePyinstrument,o($,ce),o($,st),o(st,xt),o(J,ei),o(J,We),o(We,Ie),Ie.checked=t[0].removeIrrelevant,o(We,ti),o(We,Ue),o(Ue,lt),o(lt,ii),o(Ue,ni),o(Ue,_e),o(Ue,ri),o(e,si),o(e,Ge),o(Ge,ot),o(Ge,li),o(Ge,je),o(je,at),o(at,ct),o(ct,ee),ee.checked=ee.__value===t[0].timeFormat,o(ct,oi),o(je,ai),o(je,ut),o(ut,dt),o(dt,te),te.checked=te.__value===t[0].timeFormat,o(dt,ci),Tt||(ui=[B(c,"change",t[4]),B(b,"change",t[6]),B(y,"input",t[7]),B(N,"input",t[8]),B(O,"change",t[9]),B(x,"change",t[10]),B(ae,"change",t[11]),B(S,"change",t[12]),B(Ie,"change",t[13]),B(_e,"input",t[3]),B(ee,"change",t[14]),B(te,"change",t[15])],Tt=!0)},p(j,[ie]){ie&1&&(c.checked=c.__value===j[0].collapseMode),ie&1&&(b.checked=b.__value===j[0].collapseMode),ie&1&&y.value!==j[0].collapseCustomShow&&se(y,j[0].collapseCustomShow),ie&1&&N.value!==j[0].collapseCustomHide&&se(N,j[0].collapseCustomHide),ie&1&&(O.checked=O.__value===j[0].collapseMode),ie&1&&(x.checked=j[0].removeImportlib),ie&1&&(ae.checked=j[0].removeTracebackHide),ie&1&&(S.checked=j[0].removePyinstrument),ie&1&&(Ie.checked=j[0].removeIrrelevant),ie&1&&(ee.checked=ee.__value===j[0].timeFormat),ie&1&&(te.checked=te.__value===j[0].timeFormat)},i:F,o:F,d(j){j&&U(e),Ft.r(),Et.r(),Tt=!1,de(ui)}}}function Si(t,e,i){let n;fe(t,Z,P=>i(0,n=P));const s=Math.random().toString(36).substring(4);function a(){return(n.removeIrrelevantThreshold*100).toLocaleString(void 0,{maximumFractionDigits:4})}function l(P){fi(Z,n.removeIrrelevantThreshold=P.currentTarget.valueAsNumber/100,n)}const c=[[],[]];function u(){n.collapseMode=this.__value,Z.set(n)}function d(){n.collapseMode=this.__value,Z.set(n)}function f(){n.collapseCustomShow=this.value,Z.set(n)}function m(){n.collapseCustomHide=this.value,Z.set(n)}function h(){n.collapseMode=this.__value,Z.set(n)}function v(){n.removeImportlib=this.checked,Z.set(n)}function _(){n.removeTracebackHide=this.checked,Z.set(n)}function b(){n.removePyinstrument=this.checked,Z.set(n)}function A(){n.removeIrrelevant=this.checked,Z.set(n)}function M(){n.timeFormat=this.__value,Z.set(n)}function R(){n.timeFormat=this.__value,Z.set(n)}return[n,s,a,l,u,c,d,f,m,h,v,_,b,A,M,R]}class Vi extends me{constructor(e){super(),pe(this,e,Si,Ri,re,{})}}function Hi(t){let e,i,n,s,a,l,c,u,d,f,m,h,v,_,b,A,M,R,P,H,z,k,g,E;return{c(){e=p("div"),i=p("div"),n=p("div"),n.textContent="Remove frames",s=w(),a=p("div"),l=p("div"),c=p("input"),u=w(),d=p("label"),f=T("importlib machinery"),m=w(),h=p("div"),v=p("input"),_=w(),b=p("label"),A=T("Frames declaring __traceback_hide__"),M=w(),R=p("div"),P=p("input"),H=w(),z=p("label"),k=T("pyinstrument frames"),r(n,"class","name"),r(c,"id",t[1]+"removeImportlib"),r(c,"type","checkbox"),r(d,"for",t[1]+"removeImportlib"),r(l,"class","option"),r(v,"id",t[1]+"removeTracebackHide"),r(v,"type","checkbox"),r(b,"for",t[1]+"removeTracebackHide"),r(h,"class","option"),r(P,"id",t[1]+"removePyinstrument"),r(P,"type","checkbox"),r(z,"for",t[1]+"removePyinstrument"),r(R,"class","option"),r(a,"class","body"),r(i,"class","option-group"),r(e,"class","view-options-timeline svelte-vsz8zm")},m(y,I){G(y,e,I),o(e,i),o(i,n),o(i,s),o(i,a),o(a,l),o(l,c),c.checked=t[0].removeImportlib,o(l,u),o(l,d),o(d,f),o(a,m),o(a,h),o(h,v),v.checked=t[0].removeTracebackHide,o(h,_),o(h,b),o(b,A),o(a,M),o(a,R),o(R,P),P.checked=t[0].removePyinstrument,o(R,H),o(R,z),o(z,k),g||(E=[B(c,"change",t[2]),B(v,"change",t[3]),B(P,"change",t[4])],g=!0)},p(y,[I]){I&1&&(c.checked=y[0].removeImportlib),I&1&&(v.checked=y[0].removeTracebackHide),I&1&&(P.checked=y[0].removePyinstrument)},i:F,o:F,d(y){y&&U(e),g=!1,de(E)}}}function $i(t,e,i){let n;fe(t,Ze,u=>i(0,n=u));const s=Math.random().toString(36).substring(4);function a(){n.removeImportlib=this.checked,Ze.set(n)}function l(){n.removeTracebackHide=this.checked,Ze.set(n)}function c(){n.removePyinstrument=this.checked,Ze.set(n)}return[n,s,a,l,c]}class Di extends me{constructor(e){super(),pe(this,e,$i,Hi,re,{})}}class Oi extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Li(t,e){const i=e*(t.length-1),n=Math.floor(i),s=Math.ceil(i),a=t[n],l=t[s],c=i-n;return Ni(c,{to:[a,l]})}function Bi(t,e,i){return t===1/0?(console.warn("clamp: value is Infinity, returning `max`",t),i):t===-1/0?(console.warn("clamp: value is -Infinity, returning `min`",t),e):Number.isFinite(t)?t<e?e:t>i?i:t:(console.warn("clamp: value isn't finite, returning `min`",t),e)}function yt(t,e){const{from:i=[0,1],to:n=[0,1]}=e,s=e.clamp||!1;let a=(t-i[0])/(i[1]-i[0])*(n[1]-n[0])+n[0];return s&&(a=Bi(a,Math.min(n[0],n[1]),Math.max(n[0],n[1]))),a}function Ni(t,e){return`rgb(
      ${yt(t,{from:e.from,to:[e.to[0][0],e.to[1][0]],clamp:e.clamp})},
      ${yt(t,{from:e.from,to:[e.to[0][1],e.to[1][1]],clamp:e.clamp})},
      ${yt(t,{from:e.from,to:[e.to[0][2],e.to[1][2]],clamp:e.clamp})}
    )`}function zi(t){if(t.substr(0,1)=="#"){var e=(t.length-1)/3,i=[17,1,.062272][e-1];return[Math.round(parseInt(t.substr(1,e),16)*i),Math.round(parseInt(t.substr(1+e,e),16)*i),Math.round(parseInt(t.substr(1+2*e,e),16)*i)]}else return t.split("(")[1].split(")")[0].split(",").map(n=>+n)}function Wi(t,e,i={}){const{ignore:n=[],capture:s=!0}=i,a=window;if(!a)return()=>{};let l=!0,c=!1;const u=v=>n.some(_=>typeof _=="string"?Array.from(document.querySelectorAll(_)).some(b=>b===v.target||v.composedPath().includes(b)):_&&(v.target===_||v.composedPath().includes(_))),d=v=>{if(!(!t||t===v.target||v.composedPath().includes(t))){if(v.detail===0&&(l=!u(v)),!l){l=!0;return}e(v)}},f=v=>{c||(c=!0,setTimeout(()=>{c=!1},0),d(v))},m=v=>{l=!u(v)&&!!(t&&!v.composedPath().includes(t))};return a.addEventListener("click",f,{passive:!0,capture:s}),a.addEventListener("pointerdown",m,{passive:!0}),()=>{a.removeEventListener("click",f,{capture:s}),a.removeEventListener("pointerdown",m)}}function Ui(t){let e,i;return e=new Di({}),{c(){he(e.$$.fragment)},m(n,s){le(e,n,s),i=!0},i(n){i||(V(e.$$.fragment,n),i=!0)},o(n){D(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Gi(t){let e,i;return e=new Vi({}),{c(){he(e.$$.fragment)},m(n,s){le(e,n,s),i=!0},i(n){i||(V(e.$$.fragment,n),i=!0)},o(n){D(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function ji(t){let e,i,n,s,a,l,c,u;const d=[Gi,Ui],f=[];function m(h,v){return h[0].viewMode==="call-stack"?0:h[0].viewMode==="timeline"?1:-1}return~(l=m(t))&&(c=f[l]=d[l](t)),{c(){e=p("div"),i=p("div"),n=p("div"),s=T(t[2]),a=w(),c&&c.c(),r(n,"class","title svelte-f96okc"),r(i,"class","box svelte-f96okc"),r(e,"class","view-options svelte-f96okc")},m(h,v){G(h,e,v),o(e,i),o(i,n),o(n,s),o(i,a),~l&&f[l].m(i,null),t[3](i),u=!0},p(h,[v]){(!u||v&4)&&Ee(s,h[2]);let _=l;l=m(h),l!==_&&(c&&(Oe(),D(f[_],1,1,()=>{f[_]=null}),Le()),~l?(c=f[l],c||(c=f[l]=d[l](h),c.c()),V(c,1),c.m(i,null)):c=null)},i(h){u||(V(c),u=!0)},o(h){D(c),u=!1},d(h){h&&U(e),~l&&f[l].d(),t[3](null)}}}function Qi(t,e,i){let n;fe(t,Ke,d=>i(0,n=d));const s=vi();function a(){s("close")}let l;Mt(()=>{if(l)return Wi(l,a,{ignore:[".js-view-options-button"]})});let c="View options";function u(d){He[d?"unshift":"push"](()=>{l=d,i(1,l)})}return t.$$.update=()=>{t.$$.dirty&1&&(n.viewMode==="call-stack"?i(2,c="Call stack view options"):n.viewMode==="timeline"&&i(2,c="Timeline view options"))},[n,l,c,u]}class qi extends me{constructor(e){super(),pe(this,e,Qi,ji,re,{})}}function Dt(t){let e,i;return e=new qi({}),e.$on("close",t[9]),{c(){he(e.$$.fragment)},m(n,s){le(e,n,s),i=!0},p:F,i(n){i||(V(e.$$.fragment,n),i=!0)},o(n){D(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Ki(t){let e,i,n,s,a,l,c,u,d=t[0].target_description+"",f,m,h,v,_,b,A,M,R,P,H,z,k,g,E=t[0].sampleCount+"",y,I,W,Y,N,be,Se,X,O,Je,ve,Q,xe,we,ge,q,J,ye,x,et,ne,Ae,Ce,ke,ae,Fe,Pe,ze,tt;a=new Pi({}),Ce=new Ei({});let $=t[1]&&Dt(t);return Pe=mt(t[7][0]),{c(){e=p("div"),i=p("div"),n=p("div"),s=p("div"),he(a.$$.fragment),l=w(),c=p("div"),u=p("div"),f=T(d),m=w(),h=p("div"),v=p("div"),_=p("span"),_.textContent="Recorded:",b=w(),A=p("span"),A.textContent=`${t[3]}`,M=w(),R=p("br"),P=w(),H=p("div"),z=p("span"),z.textContent="Samples:",k=w(),g=p("span"),y=T(E),I=w(),W=p("div"),Y=p("span"),Y.textContent="CPU utilization:",N=w(),be=p("span"),be.textContent=`${(t[4]*100).toFixed(0)}%`,Se=w(),X=p("div"),O=p("div"),Je=T(`View:
            `),ve=p("label"),Q=p("input"),xe=T(`
              Call stack`),we=w(),ge=p("label"),q=p("input"),J=T(`
              Timeline`),ye=w(),x=p("div"),et=w(),ne=p("div"),Ae=p("button"),he(Ce.$$.fragment),ke=T(`
              View options`),ae=w(),$&&$.c(),r(s,"class","logo svelte-g6343"),r(u,"class","target-description svelte-g6343"),r(_,"class","metric-label svelte-g6343"),r(A,"class","metric-value svelte-g6343"),r(v,"class","metric date svelte-g6343"),r(R,"class","svelte-g6343"),r(z,"class","metric-label svelte-g6343"),r(g,"class","metric-value svelte-g6343"),r(H,"class","metric svelte-g6343"),r(Y,"class","metric-label svelte-g6343"),r(be,"class","metric-value svelte-g6343"),r(W,"class","metric svelte-g6343"),r(h,"class","metrics svelte-g6343"),r(Q,"type","radio"),Q.__value="call-stack",se(Q,Q.__value),r(Q,"class","svelte-g6343"),r(ve,"class","svelte-g6343"),r(q,"type","radio"),q.__value="timeline",se(q,q.__value),r(q,"class","svelte-g6343"),r(ge,"class","svelte-g6343"),r(O,"class","toggle"),r(x,"class","spacer"),K(x,"flex","1"),r(Ae,"class","js-view-options-button svelte-g6343"),r(ne,"class","button-container svelte-g6343"),r(X,"class","view-options svelte-g6343"),r(c,"class","layout svelte-g6343"),r(n,"class","row svelte-g6343"),r(i,"class","margins"),r(e,"class","header svelte-g6343"),Pe.p(Q,q)},m(S,ce){G(S,e,ce),o(e,i),o(i,n),o(n,s),le(a,s,null),o(n,l),o(n,c),o(c,u),o(u,f),o(c,m),o(c,h),o(h,v),o(v,_),o(v,b),o(v,A),o(h,M),o(h,R),o(h,P),o(h,H),o(H,z),o(H,k),o(H,g),o(g,y),o(h,I),o(h,W),o(W,Y),o(W,N),o(W,be),o(c,Se),o(c,X),o(X,O),o(O,Je),o(O,ve),o(ve,Q),Q.checked=Q.__value===t[2].viewMode,o(ve,xe),o(O,we),o(O,ge),o(ge,q),q.checked=q.__value===t[2].viewMode,o(ge,J),o(X,ye),o(X,x),o(X,et),o(X,ne),o(ne,Ae),le(Ce,Ae,null),o(Ae,ke),o(ne,ae),$&&$.m(ne,null),Fe=!0,ze||(tt=[B(Q,"change",t[6]),B(q,"change",t[8]),B(Ae,"click",pt(ht(t[5])))],ze=!0)},p(S,[ce]){(!Fe||ce&1)&&d!==(d=S[0].target_description+"")&&Ee(f,d),(!Fe||ce&1)&&E!==(E=S[0].sampleCount+"")&&Ee(y,E),ce&4&&(Q.checked=Q.__value===S[2].viewMode),ce&4&&(q.checked=q.__value===S[2].viewMode),S[1]?$?($.p(S,ce),ce&2&&V($,1)):($=Dt(S),$.c(),V($,1),$.m(ne,null)):$&&(Oe(),D($,1,1,()=>{$=null}),Le())},i(S){Fe||(V(a.$$.fragment,S),V(Ce.$$.fragment,S),V($),Fe=!0)},o(S){D(a.$$.fragment,S),D(Ce.$$.fragment,S),D($),Fe=!1},d(S){S&&U(e),oe(a),oe(Ce),$&&$.d(),Pe.r(),ze=!1,de(tt)}}}function Zi(t,e,i){let n;fe(t,Ke,v=>i(2,n=v));let{session:s}=e;const a=new Date(s.startTime*1e3).toLocaleString(void 0,{dateStyle:"long",timeStyle:"medium"}),l=s.cpuTime/s.duration;let c=!1;function u(v){i(1,c=!c)}const d=[[]];function f(){n.viewMode=this.__value,Ke.set(n)}function m(){n.viewMode=this.__value,Ke.set(n)}const h=()=>i(1,c=!1);return t.$$set=v=>{"session"in v&&i(0,s=v.session)},[s,c,n,a,l,u,f,d,m,h]}class Yi extends me{constructor(e){super(),pe(this,e,Zi,Ki,re,{session:0})}}const Xi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWmSURBVHgBtVc7i11VFF5rn3PvPKoLFlqmDGPhaGVpJQoWAZEEGxERFBsDgnY6KFpaWWrQysRGf4BgmSKQFCKWKQMKTqNzz2svv/XY55ybeycTCw+z736cs/f61rdee5hmz/Hx85c66m4QyTEzrdAo4cd6EuuJ2P4wtbmUgfZkCyRoWVcwyMI29ybW47sfhRfXf793+z4X4ZchPEl3F2esElYrbRVaEjQGEKGE3jcUofGwlIEBygoACAa0fmDrdV4AOAg6FV4+W49nUPdlEW4AElGNtqjZ+hqIdI2NAC7KuvAZloyJCR+IukGmF5A6iH/IbEBWLN2NevbBFQ6tCoAF3u7VggYQtQJyFlygOAADI74Jf669QDiWWh6xFRMUgLF6PAGYkcgGgGkBE/x8AiSVaykG0AUxlgm7BY0BUMAQL8R77LM96F98A98kBeu+kAdlgA0MntUGACmOFDQl5sm+Rai6lwpMLtiEgSVGE8wVFBkAB7XcU+rdJOoLSU0x8Aii3ta/0AWqMHjlM6LDPaYDHLSsnRn9pjMny2jBCDSu9H3tDqpCmw4C6lgHqAQmWB05uwwF8RCAQpU7jIbQYCElBsjAlabfqJdnD7lKwzVcIVVOgmKpF2g921pS8/QRvuETmwDEKZdwFHMocYHffYSfBc0opojVIomjx/dY64CkxVktMsgar16/IhbKygANruwWA+YDkURUcNHQaK5ps1XhBwaAzf6M9YzWq3Ac1EKACm80cB8KV6IdPsCR0aQAMBAaUkxXPyU6WDqlypKaSEOtmCCpDyAKFgu1gSecrhdar4n++VsiGUVWDHUpdJkYEPEkEyDc7paHTShXbkuNhqQfaF5wMt16lff69JYFFYT3A8AYgFxku5xtBtw9R7YsEiH85hcYLIsfuO0lfCCHvTtMWxszNRhDebp+LRsTGobFr0zBiO5tBnhWaZgiDwD5gi3Wiw+YcDAwoDfB+MaFq83RsP8M5zSYdFjsBwfh9YAjErbyQLHNVNUsH2Dl2odCh4dE+0vQXjtI9YG2z05zOKvSbdR3eKdtLTbugVKzoOQxC+7KA5NtJPiXEZaH5xDglMrOBMHTWxdWhA/QVqtgEdx3EtVwSkDOxE4GHESpCZzcHLe+4gg3HA7P69jpfvutTA0GTQNNkXAs5UYJVjC593keik/JBohzALjQsXbrJtRksRgntzm7nVX4GnZumtC4D23N4aIAZWdv9LyZv+3IA87AlHY1HQu9+q7Qwb7nAQ01FbQ+g5NBaNOKA2jdD0bg4+UjzCrbqu6IgrLB6aLRF6KWB0ZNUj15QvLCRVa8PNanqiq7pM7kbVXDEvdaipMmHIRfBa2//aYC9WI5vjH6ydLsB1ezpePiK9PhYcoLnjSK5kljNUWqvXppKdVxo4XFhIsJ93gXy/8clxIvt0X7i4XrU8+1D+wGgKPGW/UCzHfew9VsXywVZxbz8GYdKqS4rCTfZ/NZvD8WA/Yxu/aW661F7q+cIbsXVO6EcVf3b0t9SIXFx9N+kwEO3w8QVmhggq+/9xSroVdiv5TZlr0SanL6/KXOK5SaL9b/G4DRdDzONZbPuAjXS4bnfPWBPrJkjhzpYbdR8OeXz62nvBt3HD3z3F/2f0Fyx9O7XL2HAoj7YG33AK8Bag4TrJlOa0DrrVtrj7DsPBtKlgstsZGIcOW+B0wvlMP1EOqcCh1rTldb+/Xcw2woqbaLeh/Vbl7vH/Vgx08TABrehO53ccJKK1ZWP+gjpRqAKdaN8jxLs5r7Bx5TMBm18kjxOOZ0ub/3flUW/nzw4PSJp568CT0vYXq5aGJgslc4o7doPI6dcis2eUq950Ug1DqF9NvQ/uVf79y5v+E1IptedEInNj+iT2L9Nfv9jf7gI/pFdP4D5rfoaYw/Lv+pReVRq/JOEEXOee/PAf7/PP8C3bt510T4rIwAAAAASUVORK5CYII=",Ot=nt({}),Lt=nt({});function Bt(t,e,i){const n=t.slice();return n[19]=e[i],n}function Nt(t){let e,i,n,s,a,l,c,u,d,f,m,h,v,_;return{c(){e=p("div"),i=p("div"),n=L("svg"),s=L("path"),a=w(),l=p("div"),c=T(t[5]),u=w(),d=p("div"),f=T(t[4]),m=w(),h=p("div"),h.textContent=`${t[11]}`,r(s,"d","M.937-.016L5.793 4.84.937 9.696z"),r(s,"fill",t[7]),r(s,"fill-rule","evenodd"),r(s,"fill-opacity",".582"),r(n,"width","6"),r(n,"height","10"),r(i,"class","frame-triangle svelte-1hxft88"),Te(i,"rotate",!t[9]),K(i,"visibility",t[0].children.length>0?"visible":"hidden"),r(l,"class","time svelte-1hxft88"),K(l,"color",t[7]),K(l,"font-weight",t[10]<.2?500:600),r(d,"class","name svelte-1hxft88"),r(h,"class","code-position svelte-1hxft88"),r(e,"class","frame-description svelte-1hxft88"),Te(e,"application-code",t[0].isApplicationCode),Te(e,"children-visible",!t[9]),K(e,"padding-left",`${t[2]*35}px`)},m(b,A){G(b,e,A),o(e,i),o(i,n),o(n,s),o(e,a),o(e,l),o(l,c),o(e,u),o(e,d),o(d,f),o(e,m),o(e,h),v||(_=B(e,"click",pt(ht(t[12]))),v=!0)},p(b,A){A&128&&r(s,"fill",b[7]),A&512&&Te(i,"rotate",!b[9]),A&1&&K(i,"visibility",b[0].children.length>0?"visible":"hidden"),A&32&&Ee(c,b[5]),A&128&&K(l,"color",b[7]),A&16&&Ee(f,b[4]),A&1&&Te(e,"application-code",b[0].isApplicationCode),A&512&&Te(e,"children-visible",!b[9]),A&4&&K(e,"padding-left",`${b[2]*35}px`)},d(b){b&&U(e),v=!1,_()}}}function zt(t){let e,i,n,s,a=t[0].group.frames.length+"",l,c,u,d,f,m;return{c(){e=p("div"),i=p("div"),n=p("div"),n.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',s=w(),l=T(a),c=T(` frames hidden
        (`),u=T(t[6]),d=T(")"),r(n,"class","group-triangle svelte-1hxft88"),Te(n,"rotate",t[8]),r(i,"class","group-header-button svelte-1hxft88"),r(e,"class","group-header svelte-1hxft88"),K(e,"padding-left",`${t[2]*35}px`)},m(h,v){G(h,e,v),o(e,i),o(i,n),o(i,s),o(i,l),o(i,c),o(i,u),o(i,d),f||(m=B(e,"click",pt(ht(t[13]))),f=!0)},p(h,v){v&256&&Te(n,"rotate",h[8]),v&1&&a!==(a=h[0].group.frames.length+"")&&Ee(l,a),v&64&&Ee(u,h[6]),v&4&&K(e,"padding-left",`${h[2]*35}px`)},d(h){h&&U(e),f=!1,m()}}}function Wt(t){let e,i=[],n=new Map,s,a=Vt(t[0].children);const l=c=>c[19].uuid;for(let c=0;c<a.length;c+=1){let u=Bt(t,a,c),d=l(u);n.set(d,i[c]=Ut(d,u))}return{c(){e=p("div");for(let c=0;c<i.length;c+=1)i[c].c();r(e,"class","children svelte-1hxft88")},m(c,u){G(c,e,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);s=!0},p(c,u){u&15&&(a=Vt(c[0].children),Oe(),i=Ai(i,u,l,1,c,a,n,e,yi,Ut,null,Bt),Le())},i(c){if(!s){for(let u=0;u<a.length;u+=1)V(i[u]);s=!0}},o(c){for(let u=0;u<i.length;u+=1)D(i[u]);s=!1},d(c){c&&U(e);for(let u=0;u<i.length;u+=1)i[u].d()}}}function Ut(t,e){let i,n,s;return n=new Gt({props:{frame:e[19],rootFrame:e[1],indent:e[2]+(e[3]?1:0)}}),{key:t,first:null,c(){i=hi(),he(n.$$.fragment),this.first=i},m(a,l){G(a,i,l),le(n,a,l),s=!0},p(a,l){e=a;const c={};l&1&&(c.frame=e[19]),l&2&&(c.rootFrame=e[1]),l&12&&(c.indent=e[2]+(e[3]?1:0)),n.$set(c)},i(a){s||(V(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&U(i),oe(n,a)}}}function Ji(t){let e,i,n,s,a,l,c=t[3]&&Nt(t),u=t[0].group&&t[0].group.rootFrame==t[0]&&!t[9]&&zt(t),d=!t[9]&&t[0].children.length>0&&Wt(t);return{c(){e=p("div"),c&&c.c(),i=w(),u&&u.c(),n=w(),d&&d.c(),s=w(),a=p("div"),a.innerHTML="",r(a,"class","visual-guide svelte-1hxft88"),K(a,"left",`${t[2]*35+21}px`),K(a,"backgroundColor",t[7]),r(e,"class","frame svelte-1hxft88")},m(f,m){G(f,e,m),c&&c.m(e,null),o(e,i),u&&u.m(e,null),o(e,n),d&&d.m(e,null),o(e,s),o(e,a),l=!0},p(f,[m]){f[3]?c?c.p(f,m):(c=Nt(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),f[0].group&&f[0].group.rootFrame==f[0]&&!f[9]?u?u.p(f,m):(u=zt(f),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!f[9]&&f[0].children.length>0?d?(d.p(f,m),m&513&&V(d,1)):(d=Wt(f),d.c(),V(d,1),d.m(e,s)):d&&(Oe(),D(d,1,1,()=>{d=null}),Le()),m&4&&K(a,"left",`${f[2]*35+21}px`),m&128&&K(a,"backgroundColor",f[7])},i(f){l||(V(d),l=!0)},o(f){D(d),l=!1},d(f){f&&U(e),c&&c.d(),u&&u.d(),d&&d.d()}}}function xi(t,e,i){var k;let n,s,a,l,c;fe(t,Lt,g=>i(14,a=g)),fe(t,Ot,g=>i(15,l=g)),fe(t,Z,g=>i(16,c=g));let{frame:u}=e,{rootFrame:d}=e,{indent:f=0}=e,m;const h=u.time/d.time;let v;const _=`${u.filePathShort}:${(k=u.lineNo)==null?void 0:k.toString().padEnd(4," ")}`;let b,A=null;if(u.group){const g=u.group.libraries;g.length<4?A=g.join(", "):A=`${g[0]}, ${g[1]}, ${g[2]}...`}let M;h>.6?M="#FF4159":h>.3?M="#F5A623":h>.2?M="#D8CB2A":M="#7ED321";function R(g){P(u,!s,g.altKey)}function P(g,E,y=!0){if(Lt.update(I=>({...I,[g.uuid]:E})),y)for(const I of g.children)P(I,E,!0),g.group&&g.group.rootFrame==g&&H(g.group.id,!E)}function H(g,E){Ot.update(y=>({...y,[g]:E}))}function z(){u.group&&H(u.group.id,!n)}return t.$$set=g=>{"frame"in g&&i(0,u=g.frame),"rootFrame"in g&&i(1,d=g.rootFrame),"indent"in g&&i(2,f=g.indent)},t.$$.update=()=>{var g,E;if(t.$$.dirty&32769&&(u.group?l[u.group.id??""]||((g=u.group)==null?void 0:g.rootFrame)===u||u.children.filter(y=>!y.group).length>1?i(3,m=!0):i(3,m=!1):i(3,m=!0)),t.$$.dirty&1&&(u.className?i(4,v=`${u.className}.${u.function}`):i(4,v=u.function)),t.$$.dirty&65537)if(c.timeFormat==="absolute")i(5,b=u.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(c.timeFormat==="proportion")i(5,b=`${(h*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");t.$$.dirty&32769&&i(8,n=l[((E=u.group)==null?void 0:E.id)??""]===!0),t.$$.dirty&16385&&i(9,s=a[u.uuid]===!0)},[u,d,f,m,v,b,A,M,n,s,h,_,R,z,a,l,c]}let Gt=class extends me{constructor(e){super(),pe(this,e,xi,Ji,re,{frame:0,rootFrame:1,indent:2})}};function jt(t,e,i){let n=t;for(const s of e)if(n=s(n,i),!n)return null;return n}const en="\0",tn="[await]",Ye="[self]",nn=[tn,Ye,"[out-of-context]","[root]"],rn="c",sn="h";class Xe{constructor(e,i){C(this,"uuid",crypto.randomUUID());C(this,"identifier");C(this,"_identifierParts");C(this,"startTime");C(this,"time",0);C(this,"absorbedTime",0);C(this,"group",null);C(this,"attributes");C(this,"_children",[]);C(this,"parent",null);C(this,"context");var a;this.identifier=e.identifier,this._identifierParts=this.identifier.split(en),this.startTime=e.startTime??0,this.time=e.time??0,this.attributes=e.attributes??{},this.context=i;let n=this.startTime;const s=(a=e.children)==null?void 0:a.map(l=>(l.startTime===void 0&&(l={...l,startTime:n},n+=l.time??0),n=l.startTime+(l.time??0),new Xe(l,i)));s&&this.addChildren(s)}cloneDeep(){return new Xe(this,this.context)}get children(){return this._children}addChild(e,i={}){if(e.removeFromParent(),e.parent=this,i.after){const n=this._children.indexOf(i.after);if(n==-1)throw new Error("After frame not found");this._children.splice(n+1,0,e)}else this._children.push(e)}addChildren(e,i={}){e=e.slice(),i.after?(e.slice().reverse(),e.forEach(s=>this.addChild(s,i))):e.forEach(n=>this.addChild(n,i))}removeFromParent(){if(this.parent){const e=this.parent._children.indexOf(this);this.parent._children.splice(e,1),this.parent=null}}getAttributes(e){return Object.keys(this.attributes).filter(n=>n.startsWith(e)).map(n=>({data:n.slice(1),time:this.attributes[n]}))}getAttributeValue(e){const i=this.getAttributes(e);if(!i||i.length==0)return null;let n=0;for(let s=0;s<i.length;s++)i[s].time>i[n].time&&(n=s);return i[n].data}get hasTracebackHide(){return this.getAttributeValue(sn)=="1"}get function(){return this._identifierParts[0]}get filePath(){return this._identifierParts[1]??null}get lineNo(){const e=this._identifierParts[2];return e?parseInt(e):null}get isSynthetic(){return nn.includes(this.identifier)}get filePathShort(){return this.isSynthetic&&this.parent?this.parent.filePathShort:this.filePath?this.context.shortenPath(this.filePath):null}get isApplicationCode(){if(this.isSynthetic)return!1;const e=this.filePath;return!e||["/lib/","\\lib\\"].some(n=>e.includes(n))?!1:e.startsWith("<")?!!e.startsWith("<ipython-input-"):!0}get proportionOfParent(){return this.parent?this.time/this.parent.time:1}get className(){return this.getAttributeValue(rn)??""}get library(){const e=this.filePathShort;return e?/^[^\\/.]*/.exec(e)[0]:null}}class ln{constructor(e){C(this,"id");C(this,"rootFrame");C(this,"_frames",[]);this.id=crypto.randomUUID(),this.rootFrame=e}addFrame(e){e.group&&e.group.removeFrame(e),this._frames.push(e),e.group=this}removeFrame(e){if(e.group!==this)throw new Error("Frame not in group.");const i=this._frames.indexOf(e);if(i===-1)throw new Error("Frame not found in group.");this._frames.splice(i,1),e.group=null}get frames(){return this._frames}get exitFrames(){const e=[];for(const i of this.frames){let n=!1;for(const s of i.children)if(s.group!=this){n=!0;break}n&&e.push(i)}return e}get libraries(){const e=[];for(const i of this.frames){const n=i.library;n&&(e.includes(n)||e.push(n))}return e}}function rt(t,e){const{replaceWith:i}=e,n=t.parent;if(!n)throw new Error("Cannot delete the root frame");if(i=="children")n.addChildren(t.children,{after:t});else if(i=="self_time")n.addChild(new Xe({identifier:Ye,time:t.time},n.context),{after:t});else if(i=="nothing")n.absorbedTime+=t.time;else throw new Oi(i);t.removeFromParent(),At(t,!0)}function on(t,e){if(t.parent!==e.parent)throw new Error("Both frames must have the same parent.");e.absorbedTime+=t.absorbedTime,e.time+=t.time,Object.entries(t.attributes).forEach(([i,n])=>{e.attributes[i]!==void 0?e.attributes[i]+=n:e.attributes[i]=n}),e.addChildren(t.children),t.removeFromParent(),At(t,!1)}function At(t,e){if(e&&t.children&&t.children.forEach(i=>{At(i,!0)}),t.group){const i=t.group;i.removeFrame(t),i.frames.length===1&&i.removeFrame(i.frames[0])}}function Ct(t,e){if(!t)return null;for(const i of t.children)Ct(i),i.filePath&&i.filePath.includes("<frozen importlib._bootstrap")&&rt(i,{replaceWith:"children"});return t}function kt(t,e){if(!t)return null;for(const i of t.children)kt(i),i.hasTracebackHide&&rt(i,{replaceWith:"children"});return t}function Qt(t,e){if(!t)return null;const i={};for(const n of t.children.slice())if(i[n.identifier]){const s=i[n.identifier];on(n,s)}else i[n.identifier]=n;return t.children.forEach(n=>Qt(n)),t._children.sort((n,s)=>s.time-n.time),t}function qt(t,e){if(!t)return null;const i=e.hideRegex,n=e.showRegex;function s(l){const c=l.filePath||"",u=n&&new RegExp(n).test(c),d=i&&new RegExp(i).test(c);return u?!1:d?!0:!l.isApplicationCode}function a(l,c){c.addFrame(l),l.children.forEach(u=>{s(u)&&a(u,c)})}return t.children.forEach(l=>{if(!l.group&&s(l)&&l.children.some(s)){const c=new ln(l);a(l,c)}qt(l,e)}),t}function Kt(t,e,i=!0){if(!t)return null;let n=null;for(const s of t.children)s.identifier===Ye?n?(n.time+=s.time,s.removeFromParent()):n=s:n=null;return i&&t.children.forEach(s=>Kt(s,e,!0)),t}function Zt(t,e){return t?(t.children.length===1&&t.children[0].identifier===Ye&&rt(t.children[0],{replaceWith:"nothing"}),t.children.forEach(i=>Zt(i)),t):null}function Yt(t,e,i=null){if(!t)return null;i===null&&(i=t.time,i<=0&&(i=1e-44));const n=e.filterThreshold??.01;for(const s of t.children.slice())s.time/i<n&&rt(s,{replaceWith:"nothing"});return t.children.forEach(s=>Yt(s,e,i)),t}function Xt(t,e){if(!t)return null;const i=l=>{var c;return((c=l.filePath)==null?void 0:c.includes("pyinstrument/__main__.py"))&&l.children.length>0},n=l=>{var c;return l.proportionOfParent>.8&&((c=l.filePath)==null?void 0:c.includes("<string>"))&&l.children.length>0},s=l=>{var c;return l.proportionOfParent>.8&&(new RegExp(".*runpy.py").test(l.filePath??"")||((c=l.filePath)==null?void 0:c.includes("<frozen runpy>")))&&l.children.length>0};let a=t;if(!i(a)||(a=a.children[0],!n(a))||(a=a.children[0],!s(a)))return t;for(;s(a);)a=a.children[0];return a.removeFromParent(),a}function an(t){let e,i;return e=new Gt({props:{frame:t[2],rootFrame:t[2]}}),{c(){he(e.$$.fragment)},m(n,s){le(e,n,s),i=!0},p(n,s){const a={};s&4&&(a.frame=n[2]),s&4&&(a.rootFrame=n[2]),e.$set(a)},i(n){i||(V(e.$$.fragment,n),i=!0)},o(n){D(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function cn(t){let e;return{c(){e=p("div"),e.textContent="All frames were filtered out.",r(e,"class","error")},m(i,n){G(i,e,n)},p:F,i:F,o:F,d(i){i&&U(e)}}}function un(t){let e,i,n,s,a,l;const c=[cn,an],u=[];function d(f,m){return f[2]?1:0}return s=d(t),a=u[s]=c[s](t),{c(){e=p("div"),i=p("div"),n=p("div"),a.c(),r(n,"class","margins"),r(i,"class","scroll-inner svelte-gly4tt"),r(e,"class","call-stack-view svelte-gly4tt")},m(f,m){G(f,e,m),o(e,i),o(i,n),u[s].m(n,null),t[6](i),t[7](e),l=!0},p(f,[m]){let h=s;s=d(f),s===h?u[s].p(f,m):(Oe(),D(u[h],1,1,()=>{u[h]=null}),Le(),a=u[s],a?a.p(f,m):(a=u[s]=c[s](f),a.c()),V(a,1),a.m(n,null))},i(f){l||(V(a),l=!0)},o(f){D(a),l=!1},d(f){f&&U(e),u[s].d(),t[6](null),t[7](null)}}}function dn(t,e,i){let n,{session:s}=e;const a=Ht([Z],([m])=>{const h=[m.removeImportlib?Ct:null,m.removeTracebackHide?kt:null,Kt,Qt,Zt,m.removeIrrelevant?Yt:null,m.removePyinstrument?Xt:null,m.collapseMode!=="disabled"?qt:null].filter(_=>_!==null),v={filterThreshold:m.removeIrrelevantThreshold,hideRegex:m.collapseMode=="custom"?m.collapseCustomHide:void 0,showRegex:m.collapseMode=="custom"?m.collapseCustomShow:void 0};return{processors:h,options:v}});fe(t,a,m=>i(5,n=m));let l,c;Mt(()=>{const m=l;if(!m)throw new Error("element not set");let h;return m.addEventListener("scroll",h=()=>{i(1,c.style.minHeight=`${m.scrollTop+m.clientHeight}px`,c)}),h(),()=>{m.removeEventListener("scroll",h)}});let u;function d(m){He[m?"unshift":"push"](()=>{c=m,i(1,c)})}function f(m){He[m?"unshift":"push"](()=>{l=m,i(0,l)})}return t.$$set=m=>{"session"in m&&i(4,s=m.session)},t.$$.update=()=>{t.$$.dirty&48&&i(2,u=jt(s.rootFrame.cloneDeep(),n.processors,n.options))},[l,c,u,a,s,n,d,f]}class fn extends me{constructor(e){super(),pe(this,e,dn,un,re,{session:4})}}class hn{constructor(e){C(this,"mediaQueryList",null);this.onDevicePixelRatioChanged=e,this._onChange=this._onChange.bind(this),this.createMediaQueryList()}createMediaQueryList(){this.removeMediaQueryList();let e=`(resolution: ${window.devicePixelRatio}dppx)`;this.mediaQueryList=matchMedia(e),this.mediaQueryList.addEventListener("change",this._onChange)}removeMediaQueryList(){var e;(e=this.mediaQueryList)==null||e.removeEventListener("change",this._onChange),this.mediaQueryList=null}_onChange(e){this.onDevicePixelRatioChanged(),this.createMediaQueryList()}destroy(){this.removeMediaQueryList()}}class pn{constructor(e){C(this,"canvas");C(this,"_size_observer");C(this,"_devicePixelRatioObserver");C(this,"drawAnimationRequest",null);this.container=e,getComputedStyle(e).position!="absolute"&&(e.style.position="relative"),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0",this.canvas.style.top="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.container.appendChild(this.canvas),this.setCanvasSize=this.setCanvasSize.bind(this),this._size_observer=new ResizeObserver(this.setCanvasSize),this._size_observer.observe(e),this._devicePixelRatioObserver=new hn(this.setCanvasSize),window.requestAnimationFrame(()=>{this.setCanvasSize()})}destroy(){this._size_observer.disconnect(),this._devicePixelRatioObserver.destroy(),this.canvas.remove(),this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null)}setNeedsRedraw(){this.drawAnimationRequest===null&&(this.drawAnimationRequest=window.requestAnimationFrame(()=>{this.drawAnimationRequest=null,this.canvasViewRedraw()}))}redrawIfNeeded(){this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null,this.canvasViewRedraw())}canvasViewRedraw(){const e=this.canvas.getContext("2d");e&&(e.resetTransform(),e.scale(window.devicePixelRatio,window.devicePixelRatio),this.redraw(e,{width:this.canvas.width/window.devicePixelRatio,height:this.canvas.height/window.devicePixelRatio}))}get width(){return this.canvas.width/window.devicePixelRatio}get height(){return this.canvas.height/window.devicePixelRatio}setCanvasSize(){const e=window.devicePixelRatio;this.canvas.height=this.container.clientHeight*e,this.canvas.width=this.container.clientWidth*e,this.canvasViewRedraw()}}const mn="#212325",vn=18,gn=17,_n=["#47A298","#9FC175","#C1A731","#C07210","#B84210","#B53134","#9A3586","#4958B5","#3475BA","#318DBC","#47A298"].map(zi);class bn extends pn{constructor(i){super(i);C(this,"zoom",1);C(this,"startT",0);C(this,"frames",[]);C(this,"isZoomedIn",!1);C(this,"lastDrawWidth",0);C(this,"lastDrawHeight",0);C(this,"mouseLocation",null);C(this,"_libraryOrder",null);C(this,"_colors",[]);this.onWheel=this.onWheel.bind(this),this.canvas.addEventListener("wheel",this.onWheel)}destroy(){super.destroy(),this.canvas.removeEventListener("wheel",this.onWheel)}setRootFrame(i){this.frames=[],this._collectFrames(i,0),this.fitContents(),this.setNeedsRedraw()}_collectFrames(i,n){this.frames.push({frame:i,depth:n});for(const s of i.children)s.identifier!==Ye&&this._collectFrames(s,n+1)}get frameMaxT(){return this.frames.reduce((i,n)=>Math.max(i,n.frame.startTime+n.frame.time),0)}get minZoom(){return this.width/this.frameMaxT}fitContents(){this.startT=0,this.zoom=this.minZoom,this.isZoomedIn=!1}clampViewport(){this.zoom<this.minZoom?(this.zoom=this.minZoom,this.isZoomedIn=!1):this.isZoomedIn=!0,this.startT<0&&(this.startT=0);const i=this.frameMaxT-this.width/this.zoom;this.startT>i&&(this.startT=i)}redraw(i,n){const{width:s,height:a}=n;(s!==this.lastDrawWidth||a!==this.lastDrawHeight)&&(this.isZoomedIn?this.clampViewport():this.fitContents()),this.lastDrawWidth=s,this.lastDrawHeight=a,i.fillStyle=mn,i.fillRect(0,0,s,a);for(const l of this.frames)this.drawFrame(i,l);i.globalAlpha=1,i.fillStyle="red",i.fillText(`startT: ${this.startT}`,10,10),i.fillText(`zoom: ${this.zoom}`,10,20)}drawFrame(i,n){const s=n.depth*vn,a=gn;let l=this.xForT(n.frame.startTime);const c=this.xForT(n.frame.startTime+n.frame.time);let u=c-l;if(!(c<0||l>this.width)){if(u<1&&(u=1),u>2&&(u-=1),i.fillStyle=this.colorForFrame(n),i.globalAlpha=n.frame.isApplicationCode?1:.5,u<2){i.fillRect(l,s,u,a);return}if(i.save(),i.beginPath(),i.rect(l,s,u,a),i.fill(),i.clip(),u>2){i.font='13px "Source Sans Pro", sans-serif',i.fillStyle="white";let d;n.frame.className?d=`${n.frame.className}.${n.frame.function}`:n.frame.function=="<module>"?d=n.frame.filePathShort??n.frame.filePath??"":d=n.frame.function,l<0&&(l=0),i.fillText(d,l+2,s+13)}i.restore()}}xForT(i){return(i-this.startT)*this.zoom}onWheel(i){if(i.ctrlKey||i.metaKey){const n=this.startT+i.offsetX/this.zoom;this.zoom*=1-i.deltaY/100,this.startT=n-i.offsetX/this.zoom,this.clampViewport(),this.setNeedsRedraw(),i.preventDefault();return}this.startT+=i.deltaX/this.zoom,this.clampViewport(),this.setNeedsRedraw(),i.preventDefault()}onMouseMove(i){this.mouseLocation={x:i.offsetX,y:i.offsetY},this.setNeedsRedraw()}onMouseLeave(i){this.mouseLocation=null,this.setNeedsRedraw()}_assignLibraryOrder(){const i={};for(const s of this.frames){const l=s.frame.library??"";i[l]=(i[l]||0)+1}const n=Object.keys(i);n.sort((s,a)=>i[a]-i[s]),this._libraryOrder=n}colorForLibraryIndex(i){if(this._colors[i]!==void 0)return this._colors[i];const n=Math.pow(2,Math.ceil(Math.log2(i+1))),a=(2*i-n+1)/n,l=Li(_n,a);return this._colors[i]=l,l}colorForFrame(i){var a;this._libraryOrder||this._assignLibraryOrder();let n=((a=this._libraryOrder)==null?void 0:a.indexOf(i.frame.library||""))??0;return n===-1&&(n=0),this.colorForLibraryIndex(n)}}function wn(t){let e;return{c(){e=p("div"),e.innerHTML="",r(e,"class","timeline svelte-1ekyre4")},m(i,n){G(i,e,n),t[6](e)},p:F,i:F,o:F,d(i){i&&U(e),t[6](null)}}}function yn(t,e,i){let n,{session:s}=e;const a=Ht([Ze],([f])=>({processors:[f.removeImportlib?Ct:null,f.removeTracebackHide?kt:null,f.removePyinstrument?Xt:null].filter(v=>v!==null),options:{}}));fe(t,a,f=>i(5,n=f));let l,c=null,u=null;function d(f){He[f?"unshift":"push"](()=>{c=f,i(0,c)})}return t.$$set=f=>{"session"in f&&i(2,s=f.session)},t.$$.update=()=>{t.$$.dirty&36&&i(3,l=jt(s.rootFrame.cloneDeep(),n.processors,n.options)),t.$$.dirty&1&&c&&i(4,u=new bn(c)),t.$$.dirty&24&&l&&u&&u.setRootFrame(l)},[c,a,s,l,u,n,d]}class An extends me{constructor(e){super(),pe(this,e,yn,wn,re,{session:2})}}function Cn(t){let e,i,n=t[1].viewMode+"",s;return{c(){e=p("div"),i=T("Unknown view mode: "),s=T(n),r(e,"class","error")},m(a,l){G(a,e,l),o(e,i),o(e,s)},p(a,l){l&2&&n!==(n=a[1].viewMode+"")&&Ee(s,n)},i:F,o:F,d(a){a&&U(e)}}}function kn(t){let e,i;return e=new An({props:{session:t[0]}}),{c(){he(e.$$.fragment)},m(n,s){le(e,n,s),i=!0},p(n,s){const a={};s&1&&(a.session=n[0]),e.$set(a)},i(n){i||(V(e.$$.fragment,n),i=!0)},o(n){D(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function Fn(t){let e,i;return e=new fn({props:{session:t[0]}}),{c(){he(e.$$.fragment)},m(n,s){le(e,n,s),i=!0},p(n,s){const a={};s&1&&(a.session=n[0]),e.$set(a)},i(n){i||(V(e.$$.fragment,n),i=!0)},o(n){D(e.$$.fragment,n),i=!1},d(n){oe(e,n)}}}function En(t){let e;return{c(){e=p("div"),e.innerHTML='<div class="spacer" style="height: 20px;"></div> <div class="error">No samples recorded.</div>',r(e,"class","margins")},m(i,n){G(i,e,n)},p:F,i:F,o:F,d(i){i&&U(e)}}}function Tn(t){let e,i,n,s,a,l,c,u;n=new Yi({props:{session:t[0]}});const d=[En,Fn,kn,Cn],f=[];function m(h,v){return h[0].rootFrame?h[1].viewMode==="call-stack"?1:h[1].viewMode==="timeline"?2:3:0}return l=m(t),c=f[l]=d[l](t),{c(){e=p("div"),i=p("div"),he(n.$$.fragment),s=w(),a=p("div"),c.c(),r(i,"class","header"),r(a,"class","body svelte-15bv5h8"),r(e,"class","app svelte-15bv5h8")},m(h,v){G(h,e,v),o(e,i),le(n,i,null),o(e,s),o(e,a),f[l].m(a,null),u=!0},p(h,[v]){const _={};v&1&&(_.session=h[0]),n.$set(_);let b=l;l=m(h),l===b?f[l].p(h,v):(Oe(),D(f[b],1,1,()=>{f[b]=null}),Le(),c=f[l],c?c.p(h,v):(c=f[l]=d[l](h),c.c()),V(c,1),c.m(a,null))},i(h){u||(V(n.$$.fragment,h),V(c),u=!0)},o(h){D(n.$$.fragment,h),D(c),u=!1},d(h){h&&U(e),oe(n),f[l].d()}}}function Pn(t,e,i){let n;fe(t,Ke,m=>i(1,n=m));let{session:s}=e;const a=document.createElement("link");a.rel="shortut icon",a.href=Xi,document.head.appendChild(a);const l=document.createElement("link");l.rel="preload",l.as="style",l.onload=()=>{l.rel="stylesheet"},l.href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:400,600&display=swap",document.head.appendChild(l);const c=s.rootFrame,u=c==null?void 0:c.time.toLocaleString(void 0,{maximumSignificantDigits:3});s.target_description="Block at /Users/joerick/Projects/pyinstrument/pyinstrument/console.py:80";let d,f;return(f=/[^\s/]+(:\d+)?$/.exec(s.target_description))?d=f[0]:d=s.target_description,document.title=`${u}s - ${d} - pyinstrument`,t.$$set=m=>{"session"in m&&i(0,s=m.session)},[s,n]}class In extends me{constructor(e){super(),pe(this,e,Pn,Tn,re,{session:0})}}class Mn{constructor(e){C(this,"startTime");C(this,"duration");C(this,"sampleCount");C(this,"target_description");C(this,"cpuTime");C(this,"rootFrame");C(this,"sysPath");C(this,"_shortenPathCache",{});this.startTime=e.session.start_time,this.duration=e.session.duration,this.sampleCount=e.session.sample_count,this.target_description=e.session.target_description,this.cpuTime=e.session.cpu_time,this.sysPath=e.session.sys_path,this.rootFrame=new Xe(e.frame_tree,this)}shortenPath(e){if(this._shortenPathCache[e])return this._shortenPathCache[e];let i=e;if(Ne(e).length>1)for(const s of this.sysPath){const a=Rn(e,s);Ne(a).length<Ne(i).length&&(i=a)}return this._shortenPathCache[e]=i,i}}function Ne(t){return t.split(/[/\\]/)}function Jt(t){const e=Ne(t);return e.length>0&&e[0].endsWith(":")?e[0]:null}function Rn(t,e){if(Jt(t)!=Jt(e))return t;const i=Ne(t),n=Ne(e);let s=0;for(;s<i.length&&s<n.length&&i[s]==n[s];)s++;return n.slice(s).map(l=>"..").concat(i.slice(s)).join("/")}return{render(t,e){const i=new Mn(e);return new In({target:t,props:{session:i}})}}}();
